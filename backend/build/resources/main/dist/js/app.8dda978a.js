(function(){var e={7030:function(e,t,s){"use strict";var i=s(144),a=s(998),o=s(2150),n=s(2928),r=function(){var e=this,t=e._self._c;return t(a.Z,{on:{click:function(t){return e.check()}}},[t(n.Z,[t("div",{attrs:{id:"v-app"}},[t(o.Z,{attrs:{id:"v-container"}},[t("div",{attrs:{id:"header"}},[t("Navbar")],1),t("div",{attrs:{id:"content-body"}},[t("router-view")],1)])],1)])],1)},l=[],c=s(3423),h=s(6190),m=s(1146),d=s(8014),g=s(1199),u=function(){var e=this,t=e._self._c;return t("div",{staticClass:"navbar d-flex flex-row justify-space-between align-end"},[t("div",{staticClass:"router-logo d-flex"},[t("router-link",{attrs:{to:"/"}},[t("img",{staticClass:"nav-img",attrs:{src:s(8090),alt:"로고"}})])],1),e.isLoggedIn?t("div",{staticClass:"d-flex"},[t(g.Z,{attrs:{bottom:"",rounded:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:i}){return[t(h.Z,e._g({attrs:{icon:""},on:{click:e.fetchUserInfo}},i),[t(c.Z,{attrs:{color:"white",size:"35"}},[e.getUser.img?t("img",{attrs:{src:s(3176)(`./${e.getUser.img}.png`),alt:"profile"}}):t("img",{attrs:{src:s(9371),alt:"chick"}})])],1)]}}],null,!1,73313292)},[t(m.Z,{attrs:{color:"brown",width:"15vw"}},[t(d.km,{staticClass:"justify-center"},[t("div",{staticClass:"mx-auto text-center"},[t(c.Z,{attrs:{color:"white",size:"50"}},[this.getUser.img?t("img",{attrs:{src:s(3176)(`./${e.getUser.img}.png`),alt:"profile"}}):t("img",{attrs:{src:s(9371),alt:"chick"}})]),t("br"),t("div",{staticClass:"menu-name"},[t("h4",{staticClass:"white--text"},[e._v(e._s(e.getUser.nick))])]),t("br"),t("router-link",{attrs:{to:"/mypage"}},[t(h.Z,{staticClass:"page-btn black--text",staticStyle:{"font-weight":"bold"},attrs:{color:"primary",elevation:"0",width:"12vw"}},[e._v(" 마이페이지 ")])],1),t("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.logout.apply(null,arguments)}}},[t(h.Z,{staticClass:"page-btn black--text",staticStyle:{"font-weight":"bold"},attrs:{color:"primary",elevation:"0",width:"12vw"}},[e._v(" 로그아웃 ")])],1)],1)])],1)],1)],1):e._e()])},p=[],f=s(629),y={name:"NavBar",components:{},data(){return{dialog:!1}},methods:{...(0,f.nv)(["logout","fetchUserInfo"])},computed:{...(0,f.Se)(["isLoggedIn","getUser"])},created(){this.fetchUserInfo()}},S=y,v=s(3736),x=(0,v.Z)(S,u,p,!1,null,null,null),b=x.exports,w={name:"App",components:{Navbar:b},data:()=>({})},A=w,_=(0,v.Z)(A,r,l,!1,null,null,null),C=_.exports,k=(s(6699),s(8345)),I=s(9669),R=s.n(I);R().interceptors.response.use((e=>e),(function(e){switch(console.log("axios.interceptors.error"),e.response.status){case 401:X.dispatch("removeToken"),console.log(e.response.status),Ar.push({name:"login"});break;case 405:if(console.log("axios.interceptors.response리스폰스",e.response),e.response.headers["authorization"]){const t=localStorage.getItem("refreshToken"),s=e.response.headers["authorization"];return console.log("axios.inteceptors에세스",s),console.log("axios.inteceptors리프레쉬",t),X.dispatch("saveToken",{accessToken:s,refreshToken:t}),console.log("axios.interceptors,헤더",X.getters.authHeader),R()()}}return Promise.reject(e)}));var E=R();const U="https://i7a307.p.ssafy.io";function F(e,t,s){switch(e.response.status){case 401:t.dispatch("removeToken"),s.push({name:"login"});break;case 405:if(console.log("axios.interceptors.response리스폰스",e.response),e.response.headers["authorization"]){const s=localStorage.getItem("refreshToken"),i=e.response.headers["authorization"];t.dispatch("saveToken",{accessToken:i,refreshToken:s}),console.log("axios.interceptors,헤더",t.getters.authHeader)}}}const N=U+"/api/v1";var T={state:{user:{},accessToken:null,refreshToken:null,authError:null,passwordFlag:!1,nicknameFlag:!1,idFlag:!1,rankingList:{},loginModal:!1,myRanking:{},userExercise:[],userGameInfo:{},currentUserImage:{}},getters:{isLoggedIn:e=>!!e.accessToken,loginModal:e=>e.loginModal,getUser:e=>e.user,passwordFlag:e=>e.passwordFlag,nicknameFlag:e=>e.nicknameFlag,idFlag:e=>e.idFlag,rankingList:e=>e.rankingList,authError:e=>e.authError,authHeader:e=>({Authorization:"Bearer "+e.accessToken,Authorization2:"Bearer "+e.refreshToken}),userExercise:e=>e.userExercise,userGameInfo:e=>e.userGameInfo,myRanking:e=>e.myRanking,currentUserImage:e=>e.currentUserImage},mutations:{SET_USER:(e,t)=>e.user=t,SET_LOGINMODAL:(e,t)=>e.loginModal=t,SET_PASSWORDFLAG:(e,t)=>e.passwordFlag=t,SET_NICKNAMEFLAG:(e,t)=>e.nicknameFlag=t,SET_IDFLAG:(e,t)=>e.idFlag=t,SET_RANKINGLIST:(e,t)=>e.rankingList=t,SET_MYRANKING:(e,t)=>e.myRanking=t,SET_ACCESSTOKEN:(e,t)=>e.accessToken=t,SET_REFRESHTOKEN:(e,t)=>e.refreshToken=t,SET_AUTH_HEADER:(e,t)=>e.authHeader=t,SET_AUTH_ERROR:(e,t)=>e.authError=t,SET_USER_EXERCISE:(e,t)=>e.userExercise=t,SET_GAME_INFO:(e,t)=>e.userGameInfo=t,SET_CURRENT_USER_IMAGE:(e,t)=>e.currentUserImage=t},actions:{saveToken({commit:e},{accessToken:t,refreshToken:s}){e("SET_ACCESSTOKEN",t),e("SET_REFRESHTOKEN",s),e("SET_AUTH_HEADER",{Authorization:"Bearer "+t,Authorization2:"Bearer "+s}),localStorage.setItem("accessToken",t),localStorage.setItem("refreshToken",s)},removeToken({commit:e}){e("SET_ACCESSTOKEN",""),e("SET_REFRESHTOKEN",""),localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken","")},fetchUserInfo({commit:e,getters:t,dispatch:s}){t.isLoggedIn&&E({url:N+"/users/me",method:"get",headers:t.authHeader}).then((t=>{console.log("user",t.data);const s={no:t.data.no,userId:t.data.userId,nick:t.data.nick,email:t.data.email,totalScore:t.data.totalScore,img:t.data.img};e("SET_USER",s)})).catch((e=>{console.log(e),F(e,X,Ar,this.fetchUserInfo),s(this.fetchUserInfo)}))},fetchRankingList({commit:e,getters:t}){E({url:N+"/rank",method:"get",headers:t.authHeader}).then((t=>{const s=t.data;e("SET_RANKINGLIST",s)})).catch((e=>{console.log(t.isLoggedIn),console.error(e.response.data)}))},fetchMyRanking({commit:e,getters:t},s){t.isLoggedIn&&E({url:N+"/rank/"+s,method:"get",headers:t.authHeader}).then((t=>{console.log("myranking",t);const s=t.data;e("SET_MYRANKING",s)})).catch((e=>{console.error(e.response.data)}))},fetchExerciseInfo({getters:e,commit:t}){e.isLoggedIn&&E({url:N+"/users/exercise",method:"get",headers:e.authHeader}).then((e=>{console.log("ex",e);const s=e.data;t("SET_USER_EXERCISE",s)})).catch((e=>{console.log(e.response.data)}))},fetchGameInfo({getters:e,commit:t}){e.isLoggedIn&&E({url:N+"/users/totalgame",method:"get",headers:e.authHeader}).then((e=>{console.log("tot",e);const s=e.data;t("SET_GAME_INFO",s)})).catch((e=>{console.err(e.response.data)}))},changeImg({getters:e,dispatch:t},s){e.isLoggedIn&&E({url:N+"/users/image",method:"post",data:s,headers:e.authHeader}).then((e=>{console.log(e)})).catch((e=>{console.error(e.response.data),F(e,X,Ar,this.changeImg),t("changeImg",s)}))},fetchImg({getters:e,commit:t},s){E({url:N+"/users/image",method:"get",params:{nick:s},headers:e.authHeader}).then((e=>{console.log(e);const s=e.data;t("SET_CURRENT_USER_IMAGE",s)})).catch((e=>{console.log(e.response.data)}))},login({commit:e,dispatch:t},s){E({url:N+"/auth/login",method:"post",data:s}).then((s=>{console.log(s.data);const i={no:s.data.no,userId:s.data.userId,nick:s.data.nick,email:s.data.email,totalScore:s.data.totalScore,img:s.data.img},a=s.data.accessToken,o=s.data.refreshToken;t("saveToken",{accessToken:a,refreshToken:o}),e("SET_USER",i),Ar.push({name:"waiting"})})).catch((t=>{console.error(t.response.data),e("SET_LOGINMODAL",!0),e("SET_AUTH_ERROR",t.response.data)}))},passwordCheck({commit:e,dispatch:t},s){e("SET_PASSWORDFLAG"),t("signup",s)},nicknameCheck({commit:e},t){E({url:N+"/users/nickname/check",method:"post",data:t}).then((t=>{console.log(t),e("SET_NICKNAMEFLAG",!0)})).catch((t=>{console.error(t.response.data),e("SET_NICKNAMEFLAG",!1)}))},idCheck({commit:e},t){E({url:N+"/users/id/check",method:"post",data:t}).then((t=>{console.log(t),e("SET_IDFLAG",!0)})).catch((t=>{console.log(t.response.data),e("SET_IDFLAG",!1)}))},signup({commit:e},t){E({url:N+"/users/register",method:"post",data:t}).then((e=>{console.log(e),Ar.push({name:"login"})})).catch((t=>{console.log(t.response.data),e("SET_AUTH_ERROR",t.response.data)}))},logout({commit:e,getters:t,dispatch:s}){E({url:N+"/auth/logout",method:"post",headers:t.authHeader}).then((t=>{console.log(t),s("removeToken"),e("SET_USER",{}),Ar.push({name:"home"}).error((e=>{console.log(e)}))}))}}};function Z(){const e=E.create({baseURL:U,headers:{"Content-type":"application/json"}});return e}const M=Z();function W({page:e,accessToken:t,refreshToken:s},i,a){M.get(`/api/v1/waitingRooms/${e}`,{headers:{Authorization:"Bearer "+t,Authorization2:"Bearer "+s}}).then(i).catch(a)}function D({accessToken:e,refreshToken:t},s,i){M.get("/api/v1/ws/users",{headers:{Authorization:"Bearer "+e,Authorization2:"Bearer "+t}}).then(s).catch(i)}function O({headers:e,roomInfo:t},s,i){M.post("/api/v1/rooms/create-room",t,{headers:e}).then(s).catch(i)}function B({headers:e,code:t,id:s},i,a){M.post("/api/v1/rooms/get-token",{code:t,id:s},{headers:e}).then(i).catch(a)}function G({headers:e,joinInfo:t},s,i){M.post("/api/v1/rooms/leave-room",t,{headers:e}).then(s).catch(i)}const L=U+"/api/v1",H={namespaced:!0,state:{room:{},roomJoin:!1,users:[]},getters:{roomJoin:e=>e.roomJoin},mutations:{SET_ROOM:(e,t)=>{e.room=t},INIT_USERS:e=>{e.users=[]},INIT_HOST:(e,t)=>{e.users=[],e.users.push(t)},SET_USERS:(e,t)=>{e.users=t},DELETE_USER:(e,t)=>{e.users=e.users.filter((e=>e.nick!==t))},ADD_USER:(e,t)=>{e.users.push(t)},INIT_ROOM:e=>{e.room={}},SET_ROOMJOIN:e=>{e.roomJoin=!0},SET_ROOMCLOSE:e=>{e.roomJoin=!1},UPDATE_USER:(e,t)=>{e.users=e.users.map((e=>(console.log(e),console.log(t),e.nick===t.nick?t:e)))},INIT_TEAM_INFO:e=>{e.users=e.users.map((e=>(e.team=0,e)))}},actions:{roomCreate({rootState:e,commit:t},s){O({headers:e.auth.authHeader,roomInfo:s},(({data:s})=>{console.log(s),t("SET_ROOM",s);let i={nick:e.auth.user.nick,team:0,host:!0,userId:e.auth.user.userId,img:e.auth.user.img};t("INIT_HOST",i),Ar.push("/waiting/"+s.code)}),(e=>{console.log(e)}))},leaveRoom({rootState:e,commit:t},s){G({headers:e.auth.authHeader,joinInfo:s},(()=>{t("DELETE_USER",s.id)}),(e=>{console.log(e)}))},joinRoom({rootState:e,commit:t},s){B({headers:e.auth.authHeader,code:s,id:e.auth.user.nick},(({data:e})=>{t("SET_ROOM",e),Ar.push("/waiting/"+e.code)}),(e=>{console.log(e),403==e.response.status?alert("이미 인원이 다 차있어 입장 불가능합니다."):406==e.response.status&&alert("이미 해당 아이디가 대기방에 들어가 있습니다.")}))},setGameHistory({dispatch:e,rootState:t},{roomNo:s,score:i}){R()({url:L+`/rooms/game?roomNo=${s}`,method:"post",headers:t.auth.authHeader}).then((t=>{console.log(t),i.gameHistoryNo=t.data,e("setGameScore",i)})).catch((e=>{console.log(e)}))},setGameScore({rootState:e},t){R()({url:L+"/rooms/score",method:"post",data:t,headers:e.auth.authHeader}).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))}}};var P=H;const j={namespaced:!0,state:{rooms:[],lastPage:1,curPage:1,connectUsers:[]},getters:{},mutations:{SET_ROOMS:(e,{rooms:t,lastPage:s,curPage:i})=>{while(t.length<3)t.push({visible:!1});e.rooms=t,e.lastPage=s,e.curPage=i},SET_CUR_PAGE:(e,t)=>{e.curPage=t},NEXT_CUR_PAGE:e=>{e.curPage+=1},PREV_CUR_PAGE:e=>{e.curPage-=1},ADD_CONNECT_USER:(e,t)=>{e.connectUsers.push(t)},REMOVE_CONNECT_USER:(e,t)=>{e.connectUsers=e.connectUsers.filter((e=>e.nick!==t.nick))},SET_CONNECT_USER:(e,t)=>{e.connectUsers=t}},actions:{getRooms:({commit:e,rootState:t},s)=>{console.log({page:s,accessToken:t.auth.accessToken}),W({page:s,accessToken:t.auth.accessToken,refreshToken:t.auth.refreshToken},(({data:t})=>{console.log(t),e("SET_ROOMS",t)}),(e=>{console.log(e)}))},getConnectUsers:({commit:e,rootState:t})=>{D({token:t.auth.token},(({data:t})=>{console.log(t),e("SET_CONNECT_USER",t)}),(e=>{console.log(e)}))}}};var V=j,Q=s(4702);i.ZP.use(f.ZP);var X=new f.ZP.Store({modules:{auth:T,room:P,roomStore:V},plugins:[(0,Q.Z)({paths:["auth","room","roomStore"]})]}),J=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("div",{staticClass:"d-flex flex-column justify-center align-center align-self-center"},[e._m(0),t("div",{staticClass:"d-flex flex-column"},[t("div",{staticClass:"d-flex justify-center"},[t("router-link",{attrs:{to:"/login"}},[t(h.Z,{staticClass:"routing-btn black--text",staticStyle:{"font-weight":"bold"},attrs:{color:"primary",elevation:"0",width:"10vw"}},[e._v("로그인")])],1)],1)])])])},z=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex justify-center align-self-center"},[t("img",{attrs:{src:s(2681),alt:"logo"}})])}],Y={name:"HomeView",components:{}},q=Y,K=(0,v.Z)(q,J,z,!1,null,"bcf367a2",null),$=K.exports,ee=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex flex-column justify-center align-center align-self-center",attrs:{id:"login-page"}},[t("ContentBox",{attrs:{height:40,width:50}},[t("div",{staticClass:"flex-grow-1 d-flex flex-row justify-space-around align-center"},[t("div",{staticClass:"flex-grow-1 d-flex flex-row justify-center primary--text font-weight-bold login-box-logo"},[e._v("LOGIN")]),t("div",{staticClass:"flex-grow-1 d-flex flex-row justify-center"},[t("LoginForm")],1)])])],1)},te=[],se=function(){var e=this,t=e._self._c;return t("div",{style:{width:this.width+"%",height:this.height+"%"},attrs:{id:"content-box-wrap"}},[t("div",{staticClass:"d-flex",staticStyle:{flex:"1 1 100%"},attrs:{id:"content-box"}},[e._t("default")],2)])},ie=[],ae={name:"ContentBox",props:["width","height"]},oe=ae,ne=(0,v.Z)(oe,se,ie,!1,null,"424725b0",null),re=ne.exports,le=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"login-form"}},[e.loginModal?t("LoginDialog"):e._e(),t("form",{on:{submit:function(t){return t.preventDefault(),e.login(e.credentials)}}},[t("div",{staticClass:"d-flex flex-column"},[t("div",{staticStyle:{visibility:"hidden"}},[e._v("temp")]),t("div",{staticClass:"d-flex flex-row justify-content-between"},[t("div",{staticClass:"d-flex flex-column"},[t("PrimaryInput",{attrs:{label:"ID",labelText:"ID",inputType:"text"},on:{input:e.IdListened}}),t("PrimaryInput",{attrs:{label:"PW",labelText:"PW",inputType:"password"},on:{input:e.PWListened}})],1),e._m(0)]),t("router-link",{staticClass:"primary--text",staticStyle:{"font-weight":"bold"},attrs:{to:"/signup"}},[e._v("회원가입")])],1)])],1)},ce=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex justify-center align-center"},[t("button",{staticClass:"submit primary"},[e._v("확인")])])}],he=s(266),me=s(1713),de=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"primary-input"}},[t(me.Z,[t(he.Z,{attrs:{cols:"2"}},[t("label",{staticClass:"primary--text",attrs:{for:"input"+this.label}},[e._v(e._s(e.labelText))])]),t(he.Z,{attrs:{cols:"10"}},["checkbox"===this.inputType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputdata,expression:"inputdata"}],attrs:{id:"input"+this.label,type:"checkbox"},domProps:{checked:Array.isArray(e.inputdata)?e._i(e.inputdata,null)>-1:e.inputdata},on:{input:e.onDataInput,change:function(t){var s=e.inputdata,i=t.target,a=!!i.checked;if(Array.isArray(s)){var o=null,n=e._i(s,o);i.checked?n<0&&(e.inputdata=s.concat([o])):n>-1&&(e.inputdata=s.slice(0,n).concat(s.slice(n+1)))}else e.inputdata=a}}}):"radio"===this.inputType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputdata,expression:"inputdata"}],attrs:{id:"input"+this.label,type:"radio"},domProps:{checked:e._q(e.inputdata,null)},on:{input:e.onDataInput,change:function(t){e.inputdata=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputdata,expression:"inputdata"}],attrs:{id:"input"+this.label,type:this.inputType},domProps:{value:e.inputdata},on:{input:[function(t){t.target.composing||(e.inputdata=t.target.value)},e.onDataInput]}})])],1)],1)},ge=[],ue={name:"PrimaryInput",data:()=>({inputdata:""}),props:["label","labelText","inputType"],methods:{onDataInput(){this.$emit("input",this.inputdata)}}},pe=ue,fe=(0,v.Z)(pe,de,ge,!1,null,"204f5d10",null),ye=fe.exports,Se=s(9930),ve=function(){var e=this,t=e._self._c;return t("div",{staticClass:"destroy-room-dialog"},[t(Se.Z,{staticClass:"d-flex align-center",attrs:{"max-width":"35vw"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(m.Z,{staticClass:"room-create align-center",attrs:{color:"deepblue",width:"35vw"}},[t(d.km,{staticClass:"align-center justify-center"},[t(o.Z,{staticClass:"d-flex flex-column justify-center"},[t(me.Z,{staticClass:"d-flex mt-2 mb-2"},[t(he.Z,{staticClass:"text-center",attrs:{cols:"12"}},[t("div",{staticClass:"blue--text",staticStyle:{"font-size":"1.2rem"}},[e._v("아이디, 비밀번호를 확인해주세요")])])],1),t("br"),t(h.Z,{staticClass:"page-btn deepblue--text align-self-center",staticStyle:{width:"30vw",height:"40px","font-weight":"bold","font-size":"1.1rem"},attrs:{color:"blue",elevation:"0"},on:{click:e.closeDialog}},[e._v(" 확인")])],1)],1)],1)],1)],1)},xe=[],be={name:"LoginDialog",components:{},data:()=>({dialog:!1}),methods:{closeDialog(){this.dialog=!1}},computed:{}},we=be,Ae=(0,v.Z)(we,ve,xe,!1,null,null,null),_e=Ae.exports,Ce={name:"LoginForm",components:{PrimaryInput:ye,LoginDialog:_e},data(){return{credentials:{id:"",password:""}}},computed:{...(0,f.Se)(["authError","isLoggedIn","loginModal"])},created(){this.isLoggedIn&&this.$router.push("/waiting")},methods:{IdListened(e){this.credentials.id=e},PWListened(e){this.credentials.password=e},...(0,f.nv)(["login"])}},ke=Ce,Ie=(0,v.Z)(ke,le,ce,!1,null,"c0602240",null),Re=Ie.exports,Ee={name:"LoginPage",data:function(){return{}},methods:{},components:{ContentBox:re,LoginForm:Re}},Ue=Ee,Fe=(0,v.Z)(Ue,ee,te,!1,null,"22540671",null),Ne=Fe.exports,Te=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"waiting-room"}},[t("div",{staticClass:"d-flex flex-row justify-space-between",staticStyle:{flex:"1 1 100%"}},[t("div",{staticClass:"d-flex flex-column",staticStyle:{height:"100%",width:"25%"}},[t("div",{staticClass:"d-flex flex-column align-center",staticStyle:{flex:"0 0 20%",height:"20%",width:"100%"}},[t("div",{staticClass:"d-flex flex-column justify-space-around align-center",staticStyle:{width:"100%",height:"100%"}},[t("CreateRoomDialog",{staticClass:"primary",staticStyle:{width:"70%",height:"45px","font-weight":"bold"}}),t("button",{staticClass:"primary",staticStyle:{width:"70%",height:"45px","font-weight":"bold"},on:{click:e.rankBtn}},[e._v("랭킹 보기")])],1)]),t("div",{staticClass:"d-flex justify-center align-center",staticStyle:{flex:"1 1 80%",height:"80%"}},[t("UserList")],1)]),t("div",{staticClass:"d-flex justify-center",staticStyle:{height:"100%",width:"75%"}},[t("div",{staticClass:"d-flex flex-column",staticStyle:{height:"100%",width:"95%"}},[t("div",{staticClass:"d-flex justify-center align-center",staticStyle:{width:"100%",height:"55%"}},[t("router-view")],1),t("div",{staticClass:"d-flex justify-space-between align-center",staticStyle:{width:"100%",height:"45%"}},[t("div",{staticClass:"d-flex justify-center align-center",staticStyle:{width:"35%",height:"90%"}},[t("UserData")],1),t("div",{staticClass:"d-flex justify-center align-center",staticStyle:{width:"60%",height:"90%"}},[t("ChattingList")],1)])])])])])},Ze=[],Me=function(){var e=this,t=e._self._c;return t("ContentBox",{attrs:{height:90,width:70}},[t("div",{staticClass:"d-flex flex-column align-center",staticStyle:{height:"100%",width:"100%"}},[t("div",{staticClass:"primary--text d-flex justify-center align-center",staticStyle:{"font-size":"1.8vw","font-weight":"bold",margin:"5px 0px",height:"10%"}},[e._v(" 접속 인원:"+e._s(this.connectUsers.length)+" ")]),t("div",{staticClass:"d-flex flex-column",staticStyle:{flex:"0 0 90%",width:"100%",height:"90%"}},[t("div",{staticClass:"d-flex flex-column align-center user-info-list-box"},e._l(e.connectUsers,(function(e,s){return t("UserInfo",{key:s,attrs:{nick:e.nick,img:e.img}})})),1)])])])},We=[],De=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex user-info flex-row justify-left align-center"},[t(c.Z,{staticClass:"mr-4 ml-4",attrs:{color:"white",size:"45"}},[t("img",{attrs:{src:s(3176)(`./${e.img}.png`),alt:"profile"}})]),t("div",{staticClass:"white--text font"},[e._v(e._s(e.nick))])],1)},Oe=[],Be={name:"UserInfo",props:["nick","img"],computed:{...(0,f.Se)(["getUser"])}},Ge=Be,Le=(0,v.Z)(Ge,De,Oe,!1,null,"9c6de2f6",null),He=Le.exports;const Pe="roomStore";var je={name:"UserList",components:{ContentBox:re,UserInfo:He},created:function(){this.getConnectUsers()},computed:{...(0,f.rn)(Pe,["connectUsers"])},methods:{...(0,f.nv)(Pe,["getConnectUsers"])}},Ve=je,Qe=(0,v.Z)(Ve,Me,We,!1,null,"d629b2ac",null),Xe=Qe.exports,Je=function(){var e=this,t=e._self._c;return t("ContentBox",{staticClass:"chatting-list",attrs:{height:90,width:100}},[t("div",{staticClass:"d-flex flex-column pt-1 chatting_list",staticStyle:{height:"100%",width:"100%"}},[t("div",{staticClass:"d-flex flex-column",staticStyle:{height:"87%",width:"100%"}},[t("div",{ref:"chattingListBox",staticClass:"d-flex flex-column chatting-list-box"},e._l(e.recvList,(function(e,s){return t("ChattingItem",{key:s,attrs:{name:e.userName,content:e.content,img:e.img}})})),1)]),t("div",{staticClass:"d-flex flex-row align-center",staticStyle:{height:"13%",width:"100%"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"ml-4 chatting-input white",attrs:{type:"text"},domProps:{value:e.message},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendEvent.apply(null,arguments)},input:function(t){t.target.composing||(e.message=t.target.value)}}}),t("button",{staticClass:"mx-2 chatting-submit primary",on:{click:e.sendEvent}},[e._v("전송")])])])])},ze=[],Ye=function(){var e=this,t=e._self._c;return t("div",{staticClass:"chatting-item d-flex flex-row align-center mr-4 ml-4 mb-1 brown px-2 py-1"},[t("div",{staticClass:"d-flex flex-column justify-center align-center mr-2"},[t("div",[t(c.Z,{attrs:{size:"25",color:"white"}},[t("img",{attrs:{src:s(3176)(`./${e.img}.png`),alt:"profile"}})])],1),t("div",{staticClass:"white--text"},[e._v(" "+e._s(e.name)+" ")])]),t("div",{staticClass:"white--text",staticStyle:{"font-weight":"bold","font-size":"1.2vw"}},[e._v(" "+e._s(e.content)+" ")])])},qe=[],Ke={name:"ChattingItem",props:["name","content","img"],computed:{...(0,f.Se)(["getUser"])}},$e=Ke,et=(0,v.Z)($e,Ye,qe,!1,null,null,null),tt=et.exports,st=s(8e3),it=s.n(st),at=s(5016),ot=s.n(at);const nt="roomStore";var rt={name:"ChattingList",components:{ContentBox:re,ChattingItem:tt},data(){return{stompClient:null,userName:"",message:"",recvList:[],connected:!1,prevScrollHeight:0}},created:function(){this.connect(),this.userName=this.getUser.nick},mounted:function(){this.prevScrollHeight=this.$refs.chattingListBox.scrollHeight-this.$refs.chattingListBox.clientHeight},beforeDestroy:function(){window.removeEventListener("beforeunload",this.exit),this.exit()},methods:{...(0,f.OI)(nt,["ADD_CONNECT_USER","REMOVE_CONNECT_USER"]),...(0,f.nv)(nt,["getConnectUsers"]),connect(){const e=U+"/api/v1/ws";let t=new(it())(e);this.stompClient=ot().over(t),this.stompClient.connect(this.authHeader,(e=>{this.connected=!0,console.log("소켓 연결 성공",e),this.stompClient.subscribe("/send",(e=>{this.receive(JSON.parse(e.body))})),window.addEventListener("beforeunload",this.exit),this.send("enter",this.getUser.nick,"",this.getUser.img)}),(e=>{console.log("소켓 연결 실패",e),this.connected=!1}))},send(e,t,s,i){if(this.stompClient&&this.stompClient.connected){const a={type:e,userName:t,content:s,img:i};this.stompClient.send("/receive",JSON.stringify(a),{})}},receive({type:e,content:t,userName:s,img:i}){"message"===e?this.recvList.push({userName:s,content:t,img:i}):("enter"===e||"exit"===e)&&this.getConnectUsers()},sendEvent(){this.send("message",this.getUser.nick,this.message,this.getUser.img),this.message="",this.getConnectUsers()},exit(){this.send("exit",this.getUser.nick,""),this.stompClient.disconnect((()=>{console.log("소켓 연결 해제")}),{})}},computed:{...(0,f.rn)(["token","auth"]),...(0,f.Se)(["getUser","authHeader"])},updated(){Math.abs(this.prevScrollHeight-this.$refs.chattingListBox.scrollTop)<5&&(this.$refs.chattingListBox.scrollTop=this.$refs.chattingListBox.scrollHeight-this.$refs.chattingListBox.clientHeight),this.prevScrollHeight=this.$refs.chattingListBox.scrollHeight-this.$refs.chattingListBox.clientHeight}},lt=rt,ct=(0,v.Z)(lt,Je,ze,!1,null,"22c1fc60",null),ht=ct.exports,mt=s(8797),dt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"create-room-dialog"},[t(Se.Z,{staticClass:"d-flex align-center",attrs:{"max-width":"35vw"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t("button",e._g(e._b({staticStyle:{width:"100%",height:"50px","font-weight":"bold"}},"button",i,!1),s),[e._v("방 만들기")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(m.Z,{staticClass:"room-create align-center",attrs:{color:"brown",width:"35vw"}},[t(d.km,{staticClass:"align-center justify-center"},[t(o.Z,{staticClass:"d-flex flex-column justify-center"},[t(me.Z,{staticClass:"d-flex mt-2 mb-2"},[t(he.Z,{staticClass:"text-center",attrs:{cols:"4"}},[t("label",{staticClass:"primary--text",attrs:{for:"room-title"}},[e._v("방 제목")])]),t(he.Z,{attrs:{cols:"8"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.roomInfo.name,expression:"roomInfo.name"}],attrs:{id:"room-title",type:"text"},domProps:{value:e.roomInfo.name},on:{input:function(t){t.target.composing||e.$set(e.roomInfo,"name",t.target.value)}}})])],1),t(me.Z,{staticClass:"d-flex"},[t(he.Z,{staticClass:"text-center",attrs:{cols:"4"}},[t("div",{staticClass:"primary--text",staticStyle:{"font-size":"1.2rem","font-weight":"bold"}},[e._v("비공개")])]),t(he.Z,{attrs:{cols:"8"}},[t(mt.Z,{staticClass:"mt-0 pt-0",model:{value:e.roomInfo.isPrivate,callback:function(t){e.$set(e.roomInfo,"isPrivate",t)},expression:"roomInfo.isPrivate"}})],1)],1),t("br"),t(h.Z,{staticClass:"page-btn black--text align-self-center",staticStyle:{width:"30vw",height:"40px","font-weight":"bold","font-size":"1.1rem"},attrs:{color:"primary",elevation:"0"},on:{click:e.createRoom}},[e._v(" 방 만들기 ")])],1)],1)],1)],1)],1)},gt=[];const ut="room";var pt={name:"CreateRoomDialog",components:{},data:()=>({dialog:!1,roomInfo:{name:"",host:"",roomSize:6,isPrivate:!1,gameNo:1}}),methods:{...(0,f.nv)(ut,["roomCreate"]),...(0,f.OI)(ut,["INIT_HOST"]),createRoom(){this.roomInfo.host=this.getUser.nick,this.roomCreate(this.roomInfo),this.dialog=!1}},computed:{...(0,f.Se)(["getUser"])}},ft=pt,yt=(0,v.Z)(ft,dt,gt,!1,null,null,null),St=yt.exports,vt=function(){var e=this,t=e._self._c;return t("ContentBox",{attrs:{height:90,width:100}},[t(o.Z,[t(me.Z,[t(he.Z,[t("DataBox",{attrs:{number:e.userGameInfo.totalCnt?e.userGameInfo.totalCnt:0,string:"게임"}})],1),t(he.Z,[t("DataBox",{attrs:{number:e.userGameInfo.winCnt?e.userGameInfo.winCnt:0,string:"승"}})],1),t(he.Z,[t("DataBox",{attrs:{number:e.userGameInfo.loseCnt?e.userGameInfo.loseCnt:0,string:"패"}})],1)],1),e.userExercise.length?t(me.Z,[t(he.Z,[t("DataBox",{attrs:{number:e.userExercise[0].cnt+e.userExercise[1].cnt,string:"운동"}})],1),t(he.Z,[t("DataBox",{attrs:{number:e.userExercise[0].cnt,string:"스쿼트"}})],1),t(he.Z,[t("DataBox",{attrs:{number:e.userExercise[1].cnt,string:"달리기"}})],1)],1):e._e()],1)],1)},xt=[],bt=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"block white--text text-center",staticStyle:{"font-size":"2vw"}},[e._v(e._s(e.number))]),t("div",{staticClass:"block primary--text text-center",staticStyle:{"font-size":"2vw"}},[e._v(e._s(e.string))])])},wt=[],At={name:"Data",props:["number","string"]},_t=At,Ct=(0,v.Z)(_t,bt,wt,!1,null,null,null),kt=Ct.exports,It={name:"UserList",components:{ContentBox:re,DataBox:kt},methods:{...(0,f.nv)(["fetchExerciseInfo","fetchGameInfo"])},computed:{...(0,f.Se)(["userExercise","userGameInfo"])},created(){this.fetchExerciseInfo(),this.fetchGameInfo()}},Rt=It,Et=(0,v.Z)(Rt,vt,xt,!1,null,null,null),Ut=Et.exports,Ft={name:"WaitingRoomView",components:{UserList:Xe,ChattingList:ht,CreateRoomDialog:St,UserData:Ut},methods:{...(0,f.nv)(["setRoomCreate"]),rankBtn(){this.$router.push("/rank")}},computed:{...(0,f.Se)(["roompage"])}},Nt=Ft,Tt=(0,v.Z)(Nt,Te,Ze,!1,null,"f9716998",null),Zt=Tt.exports,Mt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex flex-column align-center",staticStyle:{height:"100%",width:"100%"}},[t("div",{staticClass:"d-flex justify-center align-center",staticStyle:{height:"50%",width:"100%"}},[e.gameFinished?t("GameResultModal",{attrs:{score:e.personalScore,team1:this.team1,team2:this.team2,myName:this.myUserName}}):e._e(),t("div",{staticStyle:{display:"none"},attrs:{id:"label-container"}}),e._m(0)],1),t("div",{staticClass:"d-flex justify-center align-center",staticStyle:{height:"50%",width:"100%"}},[t("div",{staticClass:"d-flex flex-column justify-space-between",staticStyle:{height:"98%",width:"90%"}},[t("div",{staticClass:"d-flex flex-row justify-space-between",staticStyle:{height:"48%",width:"100%%"}},[t("div",{staticStyle:{heigth:"100%",width:"20%",background:"rgba(0, 0, 0, 0.5)"}},[t("user-video",{attrs:{pose1:parseFloat(e.pose1),pose2:parseFloat(e.pose2),"stream-manager":e.publisher}}),t("canvas",{staticStyle:{display:"none"},attrs:{id:"main-video-canvas"}})],1),t("div",{staticStyle:{heigth:"100%",width:"47%"}},[t("ContentBox",{attrs:{height:100,width:100}},[e.countDown?e._e():t("ScoreBoard",{attrs:{score1:e.score1,score2:e.score2}}),e.countDown?e._e():t("button",{staticClass:"btn btn-lg btn-success",on:{click:function(t){return e.countDownStart()}}},[e._v("Start")]),e.countDown?e._e():t("button",{staticClass:"btn btn-lg btn-success",on:{click:function(t){return e.gameHistory()}}},[e._v("Start")]),e.countDown?t("CountDown",{attrs:{countDown:e.countDown}}):e._e(),t("div",{attrs:{id:"label-container"}})],1)],1),t("div",{staticStyle:{heigth:"100%",width:"20%",background:"rgba(0, 0, 0, 0.5)"}},[null!==e.subscribers[2]?t("user-video",{attrs:{"stream-manager":e.subscribers[2],signal:e.signal[0]}}):e._e()],1)]),t("div",{staticClass:"d-flex flex-row justify-space-between",staticStyle:{height:"48%",width:"100%%"}},[t("div",{staticStyle:{heigth:"100%",width:"20%",background:"rgba(0, 0, 0, 0.5)"}},[null!==e.subscribers[0]?t("user-video",{attrs:{"stream-manager":e.subscribers[0],signal:e.signal[1]}}):e._e()],1),t("div",{staticStyle:{heigth:"100%",width:"20%",background:"rgba(0, 0, 0, 0.5)"}},[null!==e.subscribers[1]?t("user-video",{attrs:{"stream-manager":e.subscribers[1],signal:e.signal[2]}}):e._e()],1),t("div",{staticStyle:{heigth:"100%",width:"20%",background:"rgba(0, 0, 0, 0.5)"}},[null!==e.subscribers[3]?t("user-video",{attrs:{"stream-manager":e.subscribers[3],signal:e.signal[3]}}):e._e()],1),t("div",{staticStyle:{heigth:"100%",width:"20%",background:"rgba(0, 0, 0, 0.5)"}},[null!==e.subscribers[4]?t("user-video",{attrs:{"stream-manager":e.subscribers[4],signal:e.signal[4]}}):e._e()],1)])])])])},Wt=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex",staticStyle:{height:"98%",width:"90%"}},[t("div",{staticStyle:{height:"100%",width:"100%"},attrs:{id:"game-container"}})])}],Dt=s(4905),Ot=function(){var e=this,t=e._self._c;return e.streamManager?t("div",{staticClass:"d-flex justify-center",staticStyle:{height:"100%",width:"100%"}},[t("div",{class:{light:e.lightSignal},style:e.styleBound(e.pose1)}),t("ov-video",{attrs:{"stream-manager":e.streamManager}}),t("div",{class:{light:e.lightSignal},style:e.styleBound(e.pose2)})],1):e._e()},Bt=[],Gt=function(){var e=this,t=e._self._c;return t("video",{staticStyle:{height:"100%"},attrs:{autoplay:""}})},Lt=[],Ht={name:"OvVideo",props:{streamManager:Object},mounted(){this.streamManager.addVideoElement(this.$el)}},Pt=Ht,jt=(0,v.Z)(Pt,Gt,Lt,!1,null,null,null),Vt=jt.exports,Qt={name:"UserVideo",components:{OvVideo:Vt},data(){return{lightSignal:!1}},props:{streamManager:Object,pose1:Number,pose2:Number,signal:Number},computed:{clientData(){const{clientData:e}=this.getConnectionData();return e}},watch:{signal(){this.lightSignal=!0,setTimeout((()=>{this.lightSignal=!1}),500)}},methods:{getConnectionData(){const{connection:e}=this.streamManager.stream;return JSON.parse(e.data.split("%/%")[0])},styleBound(e){return{width:"50%",height:"100%",background:`rgba(255, 255, 255, ${e})`}}}},Xt=Qt,Jt=(0,v.Z)(Xt,Ot,Bt,!1,null,"300eff23",null),zt=Jt.exports,Yt=s(2260),qt=s.n(Yt),Kt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABaCAYAAABDjIPOAAAAAXNSR0IArs4c6QAAB4VJREFUeF7tm01sG0UUx/9v7dj5sJMQt0nbSK0EQnBDpUIFgYQ4cKlUgcSZIxInVCFaikigVVsC/UhKb0iIcuaCKoEoVVG5IMSpN5A4IAQVTWK7Sbz+tncemk3sOolj73rH3Y12RrLiWPPezvx/8+Z7CToFQgEKRCl0IaBBBKQRaBAaREAUCEgxdERoEAFRICDF0BGhQQREgYAUQ0eEBhEQBQJSDB0RGkRAFAhIMXREaBABUSAgxdARoUEERIGAFENHhAYREAUCUgwdERpEQBQISDF0RGgQ6hRgZtmgDMA+g280Lt54QuOv/HfbdyJq/U1doVx62i0R8RyAXwBEW4R2WdX22Zk5SkSWEmcenOwGEMVs+eTrLGo/Mottzb1r3ZnBzKCWmjZDhQuYSl6XLnzXwfcCdBUS4LQ5g/Xep7ckLVv7H9sTAcwFTI7OaxBdZK0AGPjvwek/BwaiT/Wj0WoQOxMwpfjys1x453iEIt8La6RvPQeLPCbHFnREtOFRXs7Nxlt/b+3be+uY1q0YQvZFD10Q2V3T1OhVDWKLsFUAkbQ5K6ehipMAcwwkB4YmWTmIlzA5Otf6rBUAE4of7shd7yOgI/eOM9Wy+QvHBJdvObZwnJFhWUXsG7cH5W3pfvo7GEPfgq0U9o1d9C06/AZRtqMgN/MGiG441tZlRiHymFofC7al5ewdGIM3YWAPJkZOhhJENVOcf4mtld9c6uo6e3cQPwBiCHuSZ0MJorZsfhAle7Hc39QJxFL2NiKDt8Aiir3JT0IJor649m4kYsjpaX+TIxAWsHc0nGOEtZg7YUQo2V8KAJyAEJaFydErW8si96D6H7J9Wyk5kzYQIJazt0Gya7Lq2PvHl1tLvkJHc2MAsgD+BXDEWdXc5/Jz1vToQFh5TI23nzU1xgjRHgR+vzsqVx/CiODw02/dk/3or+5l7m7hK4gl85RhYNNCunuJXedgCC5hanu3Y3u6t3gTg6N3IOq1dhEBOpoTAOQ0Ow9gyvXjHRr4CUIsm7OqdjC6VJdRqeZgWXLxLtfX1NyNHYwlYETi9nZHo2uio7mGP7kn0oeV/vbi+goinT9PYLnJ6n9q2Yn1ZQrrJwjO5C+Budn6fKXh95a4ryCyhQUI8cBXAM0+yOdDIp9BXIUQcmbYY9p69NajG2kWyoiQty6ISGQLvYKwUCytggUDLZcwmA0MD43BMNyvwZiLckG3BmDcA8+eTX2JCGaOEFE9W5iHEPIIwEUigWIeOLTvQluj9NpFsLEKQsSFUxkR8mzisi8DtW8PZeYBIqr2BAICpRLj4KS9QbctpXOfAiRPXN3NOsMKIk5E5Uz+Mphlb+AmCRSLhENT59sa/b10EoaxKo85EI+NwzDkEXj3FFYQg0RUypqfQdgLVneJYaFaqUFw3TZcPwJl1KoCjx/4vOksay7A4jSIundTYQUxRETFjDkHRtEdhUZuqf0mS0alUsF06lLz14x5GYKzIOo+eG8M1r51134N1jaIrDkH0RFEHdXqCnjT9bD23OQV1nKliif2f/0QRO4aBC06GrhDDSJjXgDb+2ntkoVadRwHUqd6ixgAmdwCBKU1iJ0UZOb1wdo8B4bciNsJxAgOpD7sGcTy2kXA4VQ2rBEhb2DX0uYZADtdxLZQr01g/8R7PYNIr82DjYyOiA4RYcir8OncR5tWxpvzy5GBQByFnCWtb13LX3ZIBFQrgCW52lsfhPhgDYbReG2iM8+wRoS9xZHOzXa5Wyxv6DkPiO2HG63vrXQBgSImk1fkFX7ZSFw81Xn5OuX0Zda0USBO52ZarkCqqVCvXgQX7VO8kIL4GCB5Eul/2th95Y19sFBFhMial0igh4Ohhkz2yybeIcoujVHHZHIulCCsfP76dIn/uu9KSpYXwc5tNZE45EeGl/y76eXGXPkrVKy7TZuHt8IZECNgjiIamcZjw2+LjXfqFOB1VSvf3x2z3F7DNyiBVOJ9u+U25keyyh0GWLkh1XHqlC2cRSzyLJKDx0MZEVK/etqcjXTqXrbOhAxKIpU45el2xcbrwOuv0hFZq+UvVmPGM+PDseftn9y1ZTW5fXloS9FrLa1661yzWba0Odv8blCykEqcGnZ94NBGr8ZJYa78zdJA5MmpoYHDoQXhpDmJtDnT3Gs1aASpxOmGnYqGxCvFa/l49EhiOPZiw68ca+TH2WGGk1p0yaOiIgqK0dGFkBHR2n0lBo/9Mxx74aC0UjDv50zhTJ4tIzEUPwyDRn4mpvJQ/JVX8/kb04nEa0v9rqBvYeiyYo2FRttGowJEtnSCiVMUoQkQxQDEQQb9lIy9+fKjiordEBFtuW0ZcL2sCjtNVaXf7sd7LltWu+y7FoSCusturXWC0Fh/2D3eo95vCjUIFTBV+dAgVCnp0Y8G4VFAVeYahColPfrRIDwKqMpcg1ClpEc/GoRHAVWZaxCqlPToR4PwKKAqcw1ClZIe/WgQHgVUZa5BqFLSox8NwqOAqsw1CFVKevSjQXgUUJW5BqFKSY9+NAiPAqoy1yBUKenRjwbhUUBV5hqEKiU9+tEgPAqoylyDUKWkRz//A0u92HnkEAVYAAAAAElFTkSuQmCC",$t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAvZJREFUeF7tnLFV5EAQREUKWFgEQAbYJIFLBMRCBOdeEmeTAQFgYZECGOhx88RoVT3To9plP3arW1O/q2ek1eNi4s+qwIW1OsUnAJibAAAAMCtgLo8DAGBWwFweBwDArIC5PA4AgFkBc3kcAACzAubyOAAAZgXM5Y/dAR8D9DmqNR/VzVTEBsCADoykBEBEraTYquhvzw/N6a9u/yjXWqaBpeiGGgBQ2mVgDAAGilumThc6et8HRtNuk2G3QuoJp2fWAyCmAA6Ypt2/irCLvtYji3G022TYrdC8cAAsOgAAsyBn54ARm+3733+hXejy/q4avycMmwMA8MUeABUP4IDQIMkPBkC+pqGMAAjJlR8MgHxNQxnF19dlzua9tPnC0Ir+B38/iI04BTXe04/LAJClZGMeADQKJ77n+Q5bc2EJ4OXxupr25umVEaRyWutoAKgKdsYBwLwJ9wAQ2TcfZpovFG9sGWY5BQEAB6z261k4IOrWPX+sB8D229CU4+ZaEwAAANqAKMeCcn4vs0Zfe/AybqMrAaA1bS2q+RiKA9pFL69sBlAmUWBkxR9Ydsr+mZIkwAYAC7EAEDsFpR9JTxJAdLyMGFlZJyUA5Jy4mnVsvjAw99M3YRzQqP40TSmb8Fp55adE5aFMyZO1l568A9bcsAYJALMyihBRoymdq9RV8uCAKJ1AfNYJRyn5q0aQsmAlBgCKSgNjADBQXCU1ABSVBsYAYKC4SmoAbKgUPSYqR88DzxNDDypDk1d0THkSBoDi43oMALKe4BoZNAPonMuhup21QtKczAjqFAUAc1uEhEjcGEN1O2GfhgPKuxQ/M+lx6yaAPT9HLNfes6gQ6aUDAPClAADmTjgXB5SNr/xLyhEN4qpbnRgjFqiOJpcQrroAOLQPuZ6PnA5QnfKr4wBgxgsAAJgVMJfHAQAwK2AujwMAYFbAXB4HAMCsgLk8DgCAWQFzeRwAALMC5vI4AABmBczlcQAAzAqYy+MAAJgVMJfHAWYAn53LbnBrMOJgAAAAAElFTkSuQmCC",es=s.p+"img/rope.938e73fb.png",ts="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGmSURBVHhe7di/TetQHAXg8EagomKAtwE1S9AywZuFCWhZgpoNGICKihWAF93CiWLHVq59/Of7pMi3sOT4Hv2ObrIDAAAAAKZxVa5z8l2uNc3xPff+lCshAgiby2ierJ3Pt8eyGu7m7rmsOsXf3wSECSBs6hGsXjVDdVRTpI5MQJgAwqYYu3jttDmqIxW0RQIIm7SCxqidr5fXsurn+uG+rA6l6sgEhAkgbPEVVIsK2igBhAngtP+1ee5ThQDCBBC22lNQ29/Obd+hef/7v9uyOvT36aOs9qrsnQkIE0CYCira7u+ggtZAAGGrraChOipo1D0yAWECCJt1BTVrYejp5ZJn/ZpiX/ZMQJgAwhZzCupTR02X3N+h+n6ZgDABhC2mgpr61MsYlXVUU1X2zgSECSBskRXU1Of0MrSCelJBayCAsMVXUC1jnHD6MAFhAggTQJgAwgQQtphT0NAfSkOf5RS0UQIIm3UFXVgLg56rgjZKAGGTVlBTWy1UrIKzFdRxslJBWyGAsMlGrThZR0fG+E6p555lAsIEAAAAAAAAAAAAa7Pb/QCZz3teN79uGwAAAABJRU5ErkJggg==",ss="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGgSURBVHhe7di9TcNQGAVQwwhUVAzABtQsQcsEzMIEtCxBzQYMQEXFCqBEL8igOHES2/dhnyNZfkUi/1x9Vy9pAAAAAABgfGflXJOvch5Sjc+5dl7OhAggrJbR3Fo7H6/3ZXW4y5unstop/vwmIEwAYVOP4OBVc6gd1RSpIxMQJoCwKcZustr5fH4pq6a5uLstq25/6kgFLZEAwiatoCl3O/+ljkxAmADCZltBbX3qSAUtlADCFlFBffT8+7ptkHdnAsIEEDbbCuqqlK57aH/+7eGqrH67fnwvqzUVNAcCCFNBhV3QQgkgrOoKatfC2PW1o4JGfUcmIEwAYQLYblU7m2NUAggTQFh1u6A+O59Df2T1YRe0UAII+5cV1GWM7/6ppsHflwkIE0BYdRXUtmNnstdI11JBcyOAsKoraEpj73a6mIAwAYQJIEwAYQIIq24XdMqPry5HXNcuaCkEEFZ7AKsqOPbYa1U7myPFBIQJIKzXqA7olB3RKfeauu5eJiBMAGFTV1DbTy30NNS9pq67lQkIEwAAAAAAAAAAMEdN8w3sznBKlCkNNQAAAABJRU5ErkJggg==",is="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGMSURBVHhe7dixTcNAGAVgwwhUVAzABtQsQcsEzMIEtCxBzQYMQEXFChBFJ3REJMQ4uXfY39f4ikS27+l/umQAAAAAAIDjOynXnnyU6yH1+J5rp+VKiADCehnNH2vn7fm2rMY7v3ooq53i728CwgQQ1noED141Y+2opkgdmYAwAYS1GLtmtfP++FRWw3B2c11W223UkQpaIgGENa2glqed/1JHJiBMAGGzraDaPnWkghZKAGGzqqC6Rsbea8d/RNscZO9MQJgAwmZ7ChpbR/XnX+4uyuq7y/vXslpTQXMggLDZVlBt2wmnfh6noIUSQFjXFTTlJFOb8t2Vo+6RCQgTQNisKmiKjQpqsS9rJiBMAGHdVdA+tXOMalJBCyWAsC4qaEqlHKqOVNBCCSCsuwqaQgUxmgDCuqigHqighRJAmADCBBAmgLDuTkGpH2VOQQslgLBmo1ZMqaOxz9ryXn9mAsIEENa6gmrqaMUEhAkgLFlBta+K2NOU5255r1+ZgDABAAAAAAAAAABzNAyfguN/ZkgH6QgAAAAASUVORK5CYII=",as=s.p+"img/Room1600.bb12798e.png",os=s.p+"img/RunningRoom.fc3786b0.png",ns=s.p+"img/DeskRight.329e5b5e.png",rs=s.p+"img/DeskLeft.60dd59bf.png",ls=s.p+"img/1.c47d9c40.png",cs=s.p+"img/2.19e5146b.png",hs=s.p+"img/3.385609fb.png",ms=s.p+"img/4.afb83faa.png",ds=s.p+"img/5.0e2f6b97.png",gs=s.p+"img/6.870d2c17.png",us=s.p+"img/7.b9fd1111.png",ps=s.p+"img/8.b9fd1111.png",fs=s.p+"img/9.b9fd1111.png",ys=s.p+"img/10.7ce1c321.png",Ss=s.p+"img/11.74ea6944.png",vs=s.p+"img/12.2442c804.png",xs=s.p+"img/13.17974a51.png",bs=s.p+"img/14.384a98fb.png",ws=s.p+"img/15.0ed0d9c9.png",As=s.p+"img/16.4c6e6d60.png",_s=s.p+"img/sushi (1).1b198901.png",Cs=s.p+"img/sushi (2).f410f416.png",ks=s.p+"img/sushi (3).f410f416.png",Is=s.p+"img/sushi (4).b6c61b95.png",Rs=s.p+"img/sushi (5).b6c61b95.png",Es=s.p+"img/sushi (6).66344e21.png",Us=s.p+"img/sushi (7).9eeaf397.png",Fs=s.p+"img/sushi (8).fe84db05.png",Ns=s.p+"img/sushi (9).89f98cb0.png",Ts=s.p+"img/sushi (10).dde9bb4f.png",Zs=s.p+"img/sushi (11).0ed528df.png",Ms=s.p+"img/sushi (12).e2946d9c.png",Ws=s.p+"img/sushi (13).4dec2aee.png",Ds=s.p+"img/sushi (14).24c23be9.png",Os=s.p+"img/sushi (15).2a518e04.png",Bs=s.p+"img/sushi (16).1b198901.png",Gs=s.p+"img/gummybear (1).fc3be45b.png",Ls=s.p+"img/gummybear (2).92682c5e.png",Hs=s.p+"img/gummybear (3).ef8ebde6.png",Ps=s.p+"img/gummybear (4).9e24f883.png",js=s.p+"img/gummybear (5).8f00446e.png",Vs=s.p+"img/gummybear (6).e5e8c75b.png",Qs=s.p+"img/gummybear (7).70e23e9d.png",Xs=s.p+"img/gummybear (8).ce57b06a.png",Js=s.p+"img/gummybear (9).6770251b.png",zs=s.p+"img/gummybear (10).543e4527.png",Ys=s.p+"img/gummybear (11).836fcd5c.png",qs=s.p+"img/gummybear (12).c7262a2e.png",Ks=s.p+"img/gummybear (13).a0f4399c.png",$s=s.p+"img/gummybear (14).4dbd5bf6.png",ei=s.p+"img/gummybear (15).4dbd5bf6.png",ti=s.p+"img/gummybear (16).fc3be45b.png",si=s.p+"img/pudding (1).54d91858.png",ii=s.p+"img/pudding (2).43ca803e.png",ai=s.p+"img/pudding (3).0e524e62.png",oi=s.p+"img/pudding (4).816a2d17.png",ni=s.p+"img/pudding (5).d739ba53.png",ri=s.p+"img/pudding (6).d739ba53.png",li=s.p+"img/pudding (7).2958aa0c.png",ci=s.p+"img/pudding (8).2958aa0c.png",hi=s.p+"img/pudding (9).e2554433.png",mi=s.p+"img/pudding (10).4d1e2a27.png",di=s.p+"img/pudding (11).a51314bd.png",gi=s.p+"img/pudding (12).7b30b0e8.png",ui=s.p+"img/pudding (13).51257fe7.png",pi=s.p+"img/pudding (14).80f9cfc2.png",fi=s.p+"img/pudding (15).0fcf2aaa.png",yi=s.p+"img/pudding (16).cda4d18a.png",Si=s.p+"img/slime1 (1).e8482a6c.png",vi=s.p+"img/slime1 (2).44fe9703.png",xi=s.p+"img/slime1 (3).7fc498b7.png",bi=s.p+"img/slime1 (4).8ac948ad.png",wi=s.p+"img/slime1 (5).0a59eac3.png",Ai=s.p+"img/slime1 (6).c967f6e2.png",_i=s.p+"img/slime1 (7).b34cc81d.png",Ci=s.p+"img/slime1 (8).13fb8bf7.png",ki=s.p+"img/slime1 (9).5e24eeb6.png",Ii=s.p+"img/slime1 (10).d2d6218e.png",Ri=s.p+"img/slime1 (11).1d429983.png",Ei=s.p+"img/slime1 (12).2bbbfeff.png",Ui=s.p+"img/slime1 (13).50375d60.png",Fi=s.p+"img/slime1 (14).37a5f950.png",Ni=s.p+"img/slime1 (15).37a5f950.png",Ti=s.p+"img/slime1 (16).e8482a6c.png",Zi=s.p+"img/stone (1).f54f40fc.png",Mi=s.p+"img/stone (2).f54f40fc.png",Wi=s.p+"img/stone (3).85d1550a.png",Di=s.p+"img/stone (4).40b2a9ab.png",Oi=s.p+"img/stone (5).8c2a3b50.png",Bi=s.p+"img/stone (6).9b3c16fa.png",Gi=s.p+"img/stone (7).19597acd.png",Li=s.p+"img/stone (8).e1c2fd66.png",Hi=s.p+"img/stone (9).37102217.png",Pi=s.p+"img/stone (10).80a4aa99.png",ji=s.p+"img/stone (11).d1c51505.png",Vi=s.p+"img/stone (12).986ac269.png",Qi=s.p+"img/stone (13).6c67d4ec.png",Xi=s.p+"img/stone (14).44de83fd.png",Ji=s.p+"img/stone (15).be01ee1f.png",zi=s.p+"img/stone (16).be01ee1f.png",Yi=s.p+"img/whale (1).e3280739.png",qi=s.p+"img/whale (2).e3280739.png",Ki=s.p+"img/whale (3).c3168a85.png",$i=s.p+"img/whale (4).270d9999.png",ea=s.p+"img/whale (5).1a5e279d.png",ta=s.p+"img/whale (6).945d00cd.png",sa=s.p+"img/whale (7).20e1c661.png",ia=s.p+"img/whale (8).a4723599.png",aa=s.p+"img/whale (9).1d57b8c1.png",oa=s.p+"img/whale (10).fbccc67c.png",na=s.p+"img/whale (11).7997c14c.png",ra=s.p+"img/whale (12).cb36163b.png",la=s.p+"img/whale (13).ca20f3fd.png",ca=s.p+"img/whale (14).f86eb250.png",ha=s.p+"img/whale (15).1a272455.png",ma=s.p+"img/whale (16).1a272455.png";class da extends Yt.Scene{constructor(){super({key:"bootScene"})}preload(){this.load.plugin("rexshakepositionplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexshakepositionplugin.min.js",!0),this.load.rexImageURI("player",Kt),this.load.rexImageURI("player2",$t),this.load.rexImageURI("rope",es),this.load.rexImageURI("background",as),this.load.rexImageURI("RunningRoom",os),this.load.rexImageURI("DeskRight",ns),this.load.rexImageURI("DeskLeft",rs),this.load.rexImageURI("test1",ts),this.load.rexImageURI("test2",ss),this.load.rexImageURI("test3",is),this.load.rexImageURI("Slime3_1",ls),this.load.rexImageURI("Slime3_2",cs),this.load.rexImageURI("Slime3_3",hs),this.load.rexImageURI("Slime3_4",ms),this.load.rexImageURI("Slime3_5",ds),this.load.rexImageURI("Slime3_6",gs),this.load.rexImageURI("Slime3_7",us),this.load.rexImageURI("Slime3_8",ps),this.load.rexImageURI("Slime3_9",fs),this.load.rexImageURI("Slime3_10",ys),this.load.rexImageURI("Slime3_11",Ss),this.load.rexImageURI("Slime3_12",vs),this.load.rexImageURI("Slime3_13",xs),this.load.rexImageURI("Slime3_14",bs),this.load.rexImageURI("Slime3_15",ws),this.load.rexImageURI("Slime3_16",As),this.load.rexImageURI("Sushi_1",_s),this.load.rexImageURI("Sushi_2",Cs),this.load.rexImageURI("Sushi_3",ks),this.load.rexImageURI("Sushi_4",Is),this.load.rexImageURI("Sushi_5",Rs),this.load.rexImageURI("Sushi_6",Es),this.load.rexImageURI("Sushi_7",Us),this.load.rexImageURI("Sushi_8",Fs),this.load.rexImageURI("Sushi_9",Ns),this.load.rexImageURI("Sushi_10",Ts),this.load.rexImageURI("Sushi_11",Zs),this.load.rexImageURI("Sushi_12",Ms),this.load.rexImageURI("Sushi_13",Ws),this.load.rexImageURI("Sushi_14",Ds),this.load.rexImageURI("Sushi_15",Os),this.load.rexImageURI("Sushi_16",Bs),this.load.rexImageURI("gummybear_1",Gs),this.load.rexImageURI("gummybear_2",Ls),this.load.rexImageURI("gummybear_3",Hs),this.load.rexImageURI("gummybear_4",Ps),this.load.rexImageURI("gummybear_5",js),this.load.rexImageURI("gummybear_6",Vs),this.load.rexImageURI("gummybear_7",Qs),this.load.rexImageURI("gummybear_8",Xs),this.load.rexImageURI("gummybear_9",Js),this.load.rexImageURI("gummybear_10",zs),this.load.rexImageURI("gummybear_11",Ys),this.load.rexImageURI("gummybear_12",qs),this.load.rexImageURI("gummybear_13",Ks),this.load.rexImageURI("gummybear_14",$s),this.load.rexImageURI("gummybear_15",ei),this.load.rexImageURI("gummybear_16",ti),this.load.rexImageURI("pudding_1",si),this.load.rexImageURI("pudding_2",ii),this.load.rexImageURI("pudding_3",ai),this.load.rexImageURI("pudding_4",oi),this.load.rexImageURI("pudding_5",ni),this.load.rexImageURI("pudding_6",ri),this.load.rexImageURI("pudding_7",li),this.load.rexImageURI("pudding_8",ci),this.load.rexImageURI("pudding_9",hi),this.load.rexImageURI("pudding_10",mi),this.load.rexImageURI("pudding_11",di),this.load.rexImageURI("pudding_12",gi),this.load.rexImageURI("pudding_13",ui),this.load.rexImageURI("pudding_14",pi),this.load.rexImageURI("pudding_15",fi),this.load.rexImageURI("pudding_16",yi),this.load.rexImageURI("slime1_1",Si),this.load.rexImageURI("slime1_2",vi),this.load.rexImageURI("slime1_3",xi),this.load.rexImageURI("slime1_4",bi),this.load.rexImageURI("slime1_5",wi),this.load.rexImageURI("slime1_6",Ai),this.load.rexImageURI("slime1_7",_i),this.load.rexImageURI("slime1_8",Ci),this.load.rexImageURI("slime1_9",ki),this.load.rexImageURI("slime1_10",Ii),this.load.rexImageURI("slime1_11",Ri),this.load.rexImageURI("slime1_12",Ei),this.load.rexImageURI("slime1_13",Ui),this.load.rexImageURI("slime1_14",Fi),this.load.rexImageURI("slime1_15",Ni),this.load.rexImageURI("slime1_16",Ti),this.load.rexImageURI("stone_1",Zi),this.load.rexImageURI("stone_2",Mi),this.load.rexImageURI("stone_3",Wi),this.load.rexImageURI("stone_4",Di),this.load.rexImageURI("stone_5",Oi),this.load.rexImageURI("stone_6",Bi),this.load.rexImageURI("stone_7",Gi),this.load.rexImageURI("stone_8",Li),this.load.rexImageURI("stone_9",Hi),this.load.rexImageURI("stone_10",Pi),this.load.rexImageURI("stone_11",ji),this.load.rexImageURI("stone_12",Vi),this.load.rexImageURI("stone_13",Qi),this.load.rexImageURI("stone_14",Xi),this.load.rexImageURI("stone_15",Ji),this.load.rexImageURI("stone_16",zi),this.load.rexImageURI("whale_1",Yi),this.load.rexImageURI("whale_2",qi),this.load.rexImageURI("whale_3",Ki),this.load.rexImageURI("whale_4",$i),this.load.rexImageURI("whale_5",ea),this.load.rexImageURI("whale_6",ta),this.load.rexImageURI("whale_7",sa),this.load.rexImageURI("whale_8",ia),this.load.rexImageURI("whale_9",aa),this.load.rexImageURI("whale_10",oa),this.load.rexImageURI("whale_11",na),this.load.rexImageURI("whale_12",ra),this.load.rexImageURI("whale_13",la),this.load.rexImageURI("whale_14",ca),this.load.rexImageURI("whale_15",ha),this.load.rexImageURI("whale_16",ma)}create(){this.anims.create({key:"whaleMove",frames:[{key:"whale_1"},{key:"whale_2"},{key:"whale_3"},{key:"whale_4"},{key:"whale_5"},{key:"whale_6"},{key:"whale_7"},{key:"whale_8"},{key:"whale_9"},{key:"whale_10"},{key:"whale_11"},{key:"whale_12"},{key:"whale_13"},{key:"whale_14"},{key:"whale_15"},{key:"whale_16",duration:50}],frameRate:20,repeat:-1}),this.anims.create({key:"stoneMove",frames:[{key:"stone_1"},{key:"stone_2"},{key:"stone_3"},{key:"stone_4"},{key:"stone_5"},{key:"stone_6"},{key:"stone_7"},{key:"stone_8"},{key:"stone_9"},{key:"stone_10"},{key:"stone_11"},{key:"stone_12"},{key:"stone_13"},{key:"stone_14"},{key:"stone_15"},{key:"stone_16",duration:50}],frameRate:20,repeat:-1}),this.anims.create({key:"slime1Move",frames:[{key:"slime1_1"},{key:"slime1_2"},{key:"slime1_3"},{key:"slime1_4"},{key:"slime1_5"},{key:"slime1_6"},{key:"slime1_7"},{key:"slime1_8"},{key:"slime1_9"},{key:"slime1_10"},{key:"slime1_11"},{key:"slime1_12"},{key:"slime1_13"},{key:"slime1_14"},{key:"slime1_15"},{key:"slime1_16",duration:50}],frameRate:20,repeat:-1}),this.anims.create({key:"move",frames:[{key:"test1"},{key:"test2"},{key:"test3",duration:50}],frameRate:8,repeat:-1}),this.anims.create({key:"Slime3Move",frames:[{key:"Slime3_1"},{key:"Slime3_2"},{key:"Slime3_3"},{key:"Slime3_4"},{key:"Slime3_5"},{key:"Slime3_6"},{key:"Slime3_7"},{key:"Slime3_8"},{key:"Slime3_9"},{key:"Slime3_10"},{key:"Slime3_11"},{key:"Slime3_12"},{key:"Slime3_13"},{key:"Slime3_14"},{key:"Slime3_15"},{key:"Slime3_16",duration:50}],frameRate:20,repeat:-1}),this.anims.create({key:"SushiMove",frames:[{key:"Sushi_1"},{key:"Sushi_2"},{key:"Sushi_3"},{key:"Sushi_4"},{key:"Sushi_5"},{key:"Sushi_6"},{key:"Sushi_7"},{key:"Sushi_8"},{key:"Sushi_9"},{key:"Sushi_10"},{key:"Sushi_11"},{key:"Sushi_12"},{key:"Sushi_13"},{key:"Sushi_14"},{key:"Sushi_15"},{key:"Sushi_16",duration:50}],frameRate:20,repeat:-1}),this.anims.create({key:"gummybearMove",frames:[{key:"gummybear_1"},{key:"gummybear_2"},{key:"gummybear_3"},{key:"gummybear_4"},{key:"gummybear_5"},{key:"gummybear_6"},{key:"gummybear_7"},{key:"gummybear_8"},{key:"gummybear_9"},{key:"gummybear_10"},{key:"gummybear_11"},{key:"gummybear_12"},{key:"gummybear_13"},{key:"gummybear_14"},{key:"gummybear_15"},{key:"gummybear_16",duration:50}],frameRate:20,repeat:-1}),this.anims.create({key:"puddingMove",frames:[{key:"pudding_1"},{key:"pudding_2"},{key:"pudding_3"},{key:"pudding_4"},{key:"pudding_5"},{key:"pudding_6"},{key:"pudding_7"},{key:"pudding_8"},{key:"pudding_9"},{key:"pudding_10"},{key:"pudding_11"},{key:"pudding_12"},{key:"pudding_13"},{key:"pudding_14"},{key:"pudding_15"},{key:"pudding_16",duration:50}],frameRate:20,repeat:-1}),this.scene.start("waitingScene")}StartScene(e){0==e?(this.scene.stop("waitingScene"),this.scene.stop("runningScene"),this.scene.stop("ropFightScene"),this.scene.stop("runningScene"),this.scene.stop("ropFightScene"),this.scene.start("ropeFightScene")):1==e&&(this.scene.stop("waitingScene"),this.scene.stop("ropFightScene"),this.scene.stop("runningScene"),this.scene.start("runningScene"))}}var ga=da,ua=s(2482);class pa extends Yt.Scene{constructor(){super({key:"ropeFightScene"}),(0,ua.Z)(this,"team1",[]),(0,ua.Z)(this,"team2",[]),(0,ua.Z)(this,"rope",[]),(0,ua.Z)(this,"grounds",void 0),(0,ua.Z)(this,"nowPosition1",[]),(0,ua.Z)(this,"nowPosition2",[]),(0,ua.Z)(this,"team1Shake",!1),(0,ua.Z)(this,"team2Shake",!1),(0,ua.Z)(this,"timeOut",!1),(0,ua.Z)(this,"teamName1",["","",""]),(0,ua.Z)(this,"teamName2",["","",""]),(0,ua.Z)(this,"teamNameMove1",[]),(0,ua.Z)(this,"teamNameMove2",[]),(0,ua.Z)(this,"shakePosition1",[]),(0,ua.Z)(this,"shakePosition2",[]),(0,ua.Z)(this,"WidthScale",1),(0,ua.Z)(this,"HeightScale",1),(0,ua.Z)(this,"leftTime",60),(0,ua.Z)(this,"timerText",void 0),(0,ua.Z)(this,"timer",void 0),(0,ua.Z)(this,"gameActive",!1)}create(){var e=new(qt().Events.EventEmitter),t=new(qt().Events.EventEmitter),s=new(qt().Events.EventEmitter),i=new(qt().Events.EventEmitter);this.timer=this.time.addEvent({delay:1e3,callback:this.onTimerEvent,callbackScope:this,loop:!0}),this.WidthScale=this.sys.game.canvas.width/1600,this.HeightScale=this.sys.game.canvas.height/512,this.add.image(800*this.WidthScale,256*this.WidthScale,"background").setScale(this.WidthScale),this.RightDesk=this.add.image(800*this.WidthScale,260*this.WidthScale,"DeskRight").setScale(this.WidthScale),this.LeftDesk=this.add.image(800*this.WidthScale,260*this.WidthScale,"DeskLeft").setScale(this.WidthScale),this.timerText=this.add.text(725*this.WidthScale,50*this.WidthScale,"10",{fontFamily:"DungGeunMo",align:"center",stroke:"#000000",strokeThickness:3}).setColor("#660000").setScale(5*this.WidthScale),e.on("Out",this.outHandler,this),t.on("In",this.inHandler,this),s.on("Left",this.goLeftHandler,this),i.on("Right",this.goRightHandler,this),this.rope=this.physics.add.sprite(800*this.WidthScale,200*this.WidthScale,"rope").setScale(this.WidthScale),this.rope.setImmovable(!0),this.rope.body.allowGravity=!1,this.ropePosition=this.rope.x,this.team1[0]=this.physics.add.sprite(250*this.WidthScale,200*this.WidthScale,"slime1_1").setScale(this.WidthScale).play("slime1Move"),this.team1[1]=this.physics.add.sprite(400*this.WidthScale,200*this.WidthScale,"stone").setScale(this.WidthScale).play("stoneMove"),this.team1[2]=this.physics.add.sprite(550*this.WidthScale,200*this.WidthScale,"Sushi_1").setScale(this.WidthScale).play("SushiMove"),this.team2[0]=this.physics.add.sprite(1050*this.WidthScale,200*this.WidthScale,"gummybear_1").setScale(this.WidthScale).play("gummybearMove"),this.team2[1]=this.physics.add.sprite(1200*this.WidthScale,200*this.WidthScale,"pudding_1").setScale(this.WidthScale).play("puddingMove"),this.team2[2]=this.physics.add.sprite(1350*this.WidthScale,200*this.WidthScale,"whale").setScale(this.WidthScale).play("whaleMove"),this.teamNameMove1[0]=this.add.text(125*this.WidthScale,275*this.WidthScale,this.teamName1[0],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(1.2*this.WidthScale),this.teamNameMove1[1]=this.add.text(275*this.WidthScale,275*this.WidthScale,this.teamName1[1],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(1.2*this.WidthScale),this.teamNameMove1[2]=this.add.text(425*this.WidthScale,275*this.WidthScale,this.teamName1[2],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(1.2*this.WidthScale),this.teamNameMove2[0]=this.add.text(1025*this.WidthScale,275*this.WidthScale,this.teamName2[0],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(1.2*this.WidthScale),this.teamNameMove2[1]=this.add.text(1175*this.WidthScale,275*this.WidthScale,this.teamName2[1],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(1.2*this.WidthScale),this.teamNameMove2[2]=this.add.text(1325*this.WidthScale,275*this.WidthScale,this.teamName2[2],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(1.2*this.WidthScale),this.shakeRightGround=this.plugins.get("rexshakepositionplugin").add(this.RightDesk,{duration:1e4,mode:"effect"}),this.shakeLeftGround=this.plugins.get("rexshakepositionplugin").add(this.LeftDesk,{duration:1e4,mode:"effect"});for(var a=0;a<3;a++)this.shakePosition1[a]=this.plugins.get("rexshakepositionplugin").add(this.team1[a],{duration:1e4,mode:"effect"}),this.shakePosition2[a]=this.plugins.get("rexshakepositionplugin").add(this.team2[a],{duration:1e4,mode:"effect"});for(a=0;a<3;a++)this.nowPosition1[a]=this.team1[a].x,this.nowPosition2[a]=this.team2[a].x;this.team2[0].flipX=!0,this.team2[1].flipX=!0,this.team2[2].flipX=!1,this.team1[0].flipX=!1,this.team1[1].flipX=!1,this.team1[2].flipX=!1,this.rope.setImmovable(!0),this.rope.body.allowGravity=!1;for(a=0;a<this.team1.length;a++)this.team1[a].setImmovable(!0),this.team1[a].body.allowGravity=!1,this.team2[a].setImmovable(!0),this.team2[a].body.allowGravity=!1}outHandler(e){e>=3?this.team2[e-3].alpha=0:this.team1[e].alpha=0}inHandler(e){e>=3?this.team2[e-3].alpha=1:this.team1[e].alpha=1}goLeftHandler(e){for(var t=0;t<this.team1.length;t++)this.team1[t].setVelocityX(-20),this.team2[t].setVelocityX(-20);if(this.rope.setVelocityX(-20),1==e){for(t=0;t<3;t++)this.shakePosition2[t].shake();this.shakeRightGround.shake(),this.team2Shake=!0}else if(this.team2Shake){for(t=0;t<3;t++)this.shakePosition2[t].stop(),this.shakePosition1[t].stop();this.shakeRightGround.stop(),this.shakeLeftGround.stop(),this.team2Shake=!1}}goRightHandler(e){for(var t=0;t<this.team1.length;t++)this.team1[t].setVelocityX(20),this.team2[t].setVelocityX(20);if(this.rope.setVelocityX(20),1==e){for(t=0;t<3;t++)this.shakePosition1[t].stop();this.shakeLeftGround.shake(),this.team1Shake=!0}else if(this.team1Shake){for(t=0;t<3;t++)this.shakePosition2[t].stop(),this.shakePosition1[t].stop();this.shakeRightGround.stop(),this.shakeLeftGround.stop(),this.team1Shake=!1}}LeftWin(){this.shakeRightGround.stop(),this.RightDesk.setX(6e3),this.timer.remove(!1);for(var e=0;e<3;e++)this.team2[e].body.allowGravity=!0,this.teamNameMove2[e].setX(6e3)}RightWin(){this.shakeLeftGround.stop(),this.LeftDesk.setX(6e3),this.timer.remove(!1);for(var e=0;e<3;e++)this.team1[e].body.allowGravity=!0,this.teamNameMove1[e].setX(6e3)}setTeamName(e,t){for(var s=0;s<3;s++)this.teamName1[s]=e[s],this.teamName2[s]=t[s]}update(){for(var e=0;e<3;e++)this.teamNameMove1[e].setX(this.team1[e].x-25*this.WidthScale),this.teamNameMove2[e].setX(this.team2[e].x-25*this.WidthScale);(this.rope.x>=this.ropePosition+10||this.rope.x<=this.ropePosition-10)&&(this.rope.setVelocityX(0),this.ropePosition=this.rope.x);for(e=0;e<3;e++)(this.team1[e].x>=this.nowPosition1[e]+10||this.team1[e].x<=this.nowPosition1[e]-10)&&(this.team1[e].setVelocityX(0),this.nowPosition1[e]=this.team1[e].x),(this.team2[e].x>=this.nowPosition2[e]+10||this.team2[e].x<=this.nowPosition2[e]-10)&&(this.team2[e].setVelocityX(0),this.nowPosition2[e]=this.team2[e].x);this.leftTime>=0?this.timerText.setText(this.leftTime):this.gameActive?this.timerText.setText("연장전!"):this.timerText.setText("")}onTimerEvent(){this.leftTime--}}var fa=pa;class ya extends Yt.Scene{constructor(){super({key:"runningScene"}),(0,ua.Z)(this,"team1",[]),(0,ua.Z)(this,"team2",[]),(0,ua.Z)(this,"rope",[]),(0,ua.Z)(this,"goRightStart",[]),(0,ua.Z)(this,"nowPosition",[0,0,0,0,0]),(0,ua.Z)(this,"nextPosition",[0,0,0,0,0,0]),(0,ua.Z)(this,"teamName1",[]),(0,ua.Z)(this,"teamNameMove1",[]),(0,ua.Z)(this,"grounds",void 0)}create(){new(qt().Events.EventEmitter),new(qt().Events.EventEmitter),new(qt().Events.EventEmitter),new(qt().Events.EventEmitter);this.WidthScale=this.sys.game.canvas.width/1600,this.HeightScale=this.sys.game.canvas.height/512,this.add.image(800*this.WidthScale,256*this.HeightScale,"RunningRoom").setScale(this.WidthScale,this.HeightScale),this.team1[0]=this.physics.add.sprite(50*this.WidthScale,175*this.HeightScale,"slime1_1").setScale(.4*this.WidthScale).play("slime1Move"),this.team1[1]=this.physics.add.sprite(60*this.WidthScale,235*this.HeightScale,"stone").setScale(.4*this.WidthScale).play("stoneMove"),this.team1[2]=this.physics.add.sprite(70*this.WidthScale,290*this.HeightScale,"Sushi_1").setScale(.4*this.WidthScale).play("SushiMove"),this.team1[3]=this.physics.add.sprite(80*this.WidthScale,340*this.HeightScale,"gummybear_1").setScale(.4*this.WidthScale).play("gummybearMove"),this.team1[4]=this.physics.add.sprite(90*this.WidthScale,400*this.HeightScale,"pudding_1").setScale(.4*this.WidthScale).play("puddingMove"),this.team1[5]=this.physics.add.sprite(100*this.WidthScale,450*this.HeightScale,"whale").setScale(.4*this.WidthScale).play("whaleMove"),this.teamNameMove1[0]=this.add.text(15*this.WidthScale,175*this.HeightScale,this.teamName1[0],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(.7*this.WidthScale),this.teamNameMove1[1]=this.add.text(25*this.WidthScale,235*this.HeightScale,this.teamName1[1],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(.7*this.WidthScale),this.teamNameMove1[2]=this.add.text(35*this.WidthScale,290*this.HeightScale,this.teamName1[2],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(.7*this.WidthScale),this.teamNameMove1[3]=this.add.text(45*this.WidthScale,340*this.HeightScale,this.teamName1[3],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(.7*this.WidthScale),this.teamNameMove1[4]=this.add.text(55*this.WidthScale,400*this.HeightScale,this.teamName1[4],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(.7*this.WidthScale),this.teamNameMove1[5]=this.add.text(65*this.WidthScale,450*this.HeightScale,this.teamName1[5],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(.7*this.WidthScale),this.team1[5].flipX=!0;for(var e=0;e<6;e++)this.nowPosition[e]=(15+10*e)*this.WidthScale;for(e=0;e<6;e++)this.nextPosition[e]=0;for(e=0;e<6;e++)this.team1[e].setImmovable(!0),this.team1[e].body.allowGravity=!1,this.nextPosition[e]}GoRight(e){let t=0;for(var s=0;s<6;s++)this.teamName1[s]==e&&(t=s);this.nextPosition[t]+=145*this.WidthScale,this.team1[t].setVelocityX(200*this.WidthScale)}Winner(e){for(var t=0;t<6;t++)this.nextPosition[t]=0}setName(e){for(var t=0;t<6;t++)this.teamName1[t]=e[t]}update(){for(var e=0;e<6;e++)this.teamNameMove1[e].setX(this.team1[e].x-35*this.WidthScale);for(e=0;e<6;e++)this.team1[e].x>=this.nowPosition[e]+this.nextPosition[e]&&this.team1[e].setVelocityX(0)}}var Sa=ya;class va extends Yt.Scene{constructor(){super({key:"waitingScene"}),(0,ua.Z)(this,"team1",[]),(0,ua.Z)(this,"team2",[]),(0,ua.Z)(this,"rope",[]),(0,ua.Z)(this,"grounds",void 0),(0,ua.Z)(this,"nowPosition1",[]),(0,ua.Z)(this,"nowPosition2",[]),(0,ua.Z)(this,"team1Shake",!1),(0,ua.Z)(this,"team2Shake",!1),(0,ua.Z)(this,"teamName1",["","",""]),(0,ua.Z)(this,"teamName2",["","",""]),(0,ua.Z)(this,"teamNameMove1",[]),(0,ua.Z)(this,"teamNameMove2",[]),(0,ua.Z)(this,"gameCategory",0),(0,ua.Z)(this,"WidthScale",1),(0,ua.Z)(this,"HeightScale",1)}create(){new(qt().Events.EventEmitter),new(qt().Events.EventEmitter),new(qt().Events.EventEmitter),new(qt().Events.EventEmitter);if(this.WidthScale=this.sys.game.canvas.width/1600,this.HeightScale=this.sys.game.canvas.height/512,0==this.gameCategory){this.add.image(800*this.WidthScale,256*this.WidthScale,"background").setScale(this.WidthScale),this.RightDesk=this.add.image(800*this.WidthScale,260*this.WidthScale,"DeskRight").setScale(this.WidthScale),this.LeftDesk=this.add.image(800*this.WidthScale,260*this.WidthScale,"DeskLeft").setScale(this.WidthScale),this.rope=this.physics.add.sprite(800*this.WidthScale,200*this.WidthScale,"rope").setScale(this.WidthScale),this.rope.setImmovable(!0),this.rope.body.allowGravity=!1,this.ropePosition=this.rope.x,this.team1[0]=this.physics.add.sprite(250*this.WidthScale,200*this.WidthScale,"slime1_1").setScale(this.WidthScale).play("slime1Move"),this.team1[1]=this.physics.add.sprite(400*this.WidthScale,200*this.WidthScale,"stone").setScale(this.WidthScale).play("stoneMove"),this.team1[2]=this.physics.add.sprite(550*this.WidthScale,200*this.WidthScale,"Sushi_1").setScale(this.WidthScale).play("SushiMove"),this.team2[0]=this.physics.add.sprite(1050*this.WidthScale,200*this.WidthScale,"gummybear_1").setScale(this.WidthScale).play("gummybearMove"),this.team2[1]=this.physics.add.sprite(1200*this.WidthScale,200*this.WidthScale,"pudding_1").setScale(this.WidthScale).play("puddingMove"),this.team2[2]=this.physics.add.sprite(1350*this.WidthScale,200*this.WidthScale,"whale").setScale(this.WidthScale).play("whaleMove"),this.teamNameMove1[0]=this.add.text(125*this.WidthScale,275*this.WidthScale,this.teamName1[0],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(1.2*this.WidthScale),this.teamNameMove1[1]=this.add.text(275*this.WidthScale,275*this.WidthScale,this.teamName1[1],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(1.2*this.WidthScale),this.teamNameMove1[2]=this.add.text(425*this.WidthScale,275*this.WidthScale,this.teamName1[2],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(1.2*this.WidthScale),this.teamNameMove2[0]=this.add.text(1025*this.WidthScale,275*this.WidthScale,this.teamName2[0],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(1.2*this.WidthScale),this.teamNameMove2[1]=this.add.text(1175*this.WidthScale,275*this.WidthScale,this.teamName2[1],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(1.2*this.WidthScale),this.teamNameMove2[2]=this.add.text(1325*this.WidthScale,275*this.WidthScale,this.teamName2[2],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(1.2*this.WidthScale),this.add.text(675*this.WidthScale,256*this.WidthScale,"Press Start",{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setFontSize(50*this.WidthScale);for(var e=0;e<3;e++)this.nowPosition1[e]=this.team1[e].x,this.nowPosition2[e]=this.team2[e].x;this.team2[0].flipX=!0,this.team2[1].flipX=!0,this.team2[2].flipX=!1,this.team1[0].flipX=!1,this.team1[1].flipX=!1,this.team1[2].flipX=!1,this.rope.setImmovable(!0),this.rope.body.allowGravity=!1;for(e=0;e<this.team1.length;e++)this.team1[e].setImmovable(!0),this.team1[e].body.allowGravity=!1,this.team2[e].setImmovable(!0),this.team2[e].body.allowGravity=!1}else if(1==this.gameCategory){this.add.image(800*this.WidthScale,256*this.HeightScale,"RunningRoom").setScale(this.WidthScale,this.HeightScale),this.team1[0]=this.physics.add.sprite(50*this.WidthScale,175*this.HeightScale,"slime1_1").setScale(.4*this.WidthScale).play("slime1Move"),this.team1[1]=this.physics.add.sprite(60*this.WidthScale,235*this.HeightScale,"stone").setScale(.4*this.WidthScale).play("stoneMove"),this.team1[2]=this.physics.add.sprite(70*this.WidthScale,290*this.HeightScale,"Sushi_1").setScale(.4*this.WidthScale).play("SushiMove"),this.team1[3]=this.physics.add.sprite(80*this.WidthScale,340*this.HeightScale,"gummybear_1").setScale(.4*this.WidthScale).play("gummybearMove"),this.team1[4]=this.physics.add.sprite(90*this.WidthScale,400*this.HeightScale,"pudding_1").setScale(.4*this.WidthScale).play("puddingMove"),this.team1[5]=this.physics.add.sprite(100*this.WidthScale,450*this.HeightScale,"whale").setScale(.4*this.WidthScale).play("whaleMove"),this.teamNameMove1[0]=this.add.text(15*this.WidthScale,175*this.HeightScale,this.teamName1[0],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(.7*this.WidthScale),this.teamNameMove1[1]=this.add.text(25*this.WidthScale,235*this.HeightScale,this.teamName1[1],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(.7*this.WidthScale),this.teamNameMove1[2]=this.add.text(35*this.WidthScale,290*this.HeightScale,this.teamName1[2],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(.7*this.WidthScale),this.teamNameMove1[3]=this.add.text(45*this.WidthScale,340*this.HeightScale,this.teamName1[3],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(.7*this.WidthScale),this.teamNameMove1[4]=this.add.text(55*this.WidthScale,400*this.HeightScale,this.teamName1[4],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(.7*this.WidthScale),this.teamNameMove1[5]=this.add.text(65*this.WidthScale,450*this.HeightScale,this.teamName1[5],{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setScale(.7*this.WidthScale),this.team1[5].flipX=!0,this.add.text(675*this.WidthScale,256*this.WidthScale,"Press Start",{fontFamily:"DungGeunMo"}).setColor("#FFFFFF").setFontSize(50*this.WidthScale);for(e=0;e<6;e++)this.team1[e].setImmovable(!0),this.team1[e].body.allowGravity=!1}}update(){}}var xa=va,ba=s(9351);function wa(){return new(qt().Game)({type:qt().AUTO,width:"100%",height:"100%",parent:"game-container",transparent:!0,plugins:{global:[{key:"rexImageURILoader",plugin:ba.Z,start:!0}]},physics:{default:"arcade",arcade:{gravity:{y:300},debug:!1}},scene:[ga,fa,Sa,xa]})}var Aa=wa,_a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal"},[t("div",{staticClass:"overlay"},[t("div",{staticClass:"modal-card"},[t("ContentBox",{attrs:{height:100,width:100}},[t("div",{staticClass:"d-flex flex-column"},[t("div",{staticClass:"flex-grow-1 d-flex flex-row justify-center primary--text font-weight-bold win-logo",attrs:{id:"Main"}},[e._v(e._s(e.WhoWins()))]),t("div",{staticClass:"flex-grow-1 d-flex flex-row justify-center primary--text font-weight-bold win-logo"},[t("div",{staticClass:"d-flex flex-column align-center"},[e._v(" TEAM 1 "),e._l(e.team1_personalScore,(function(s,i){return t("div",{key:i,staticClass:"flex-grow-1 d-flex flex-row justify-center primary--text font-weight-bold win-logo"},[e._v(e._s(i)+" : "+e._s(s))])}))],2),e._v("       "),t("div",{staticClass:"d-flex flex-column align-center"},[e._v(" TEAM 2 "),e._l(e.team2_personalScore,(function(s,i){return t("div",{key:i,staticClass:"flex-grow-1 d-flex flex-row justify-center primary--text font-weight-bold win-logo"},[e._v(e._s(i)+" : "+e._s(s))])}))],2)])])])],1)])])},Ca=[],ka={props:{score:{type:Object},team1:{type:Array},team2:{type:Array},myName:{type:String}},components:{ContentBox:re},mounted(){let e=document.getElementById("Main");this.winner==this.myTeam?(e.classList.contains("animate__heartBeat"),e.classList.add("animate__heartBeat"),e.classList.contains("animate__headShake")&&e.classList.remove("animate__headShake")):(e.classList.contains("animate__heartBeat"),e.classList.remove("animate__heartBeat"),e.classList.contains("animate__headShake")||e.classList.add("animate__headShake"))},data(){return{winner:void 0,myTeam:0,team1_personalScore:{},team2_personalScore:{}}},watch:{team1(){console.log("Team1 변경")},team2(){console.log("Team2 변경")},score(){console.log("score 변경")}},methods:{WhoWins(){let e=0,t=0,s=0;for(s=0;s<this.team1.length;s++)if(this.team1[s]==this.myName){this.myTeam=1;break}0==this.myTeam&&(this.myTeam=2);for(let i=0;i<this.team1.length;i++)e+=this.score[this.team1[i]],this.team1_personalScore[this.team1[i]]=this.score[this.team1[i]];for(let i=0;i<this.team2.length;i++)t+=this.score[this.team2[i]],this.team2_personalScore[this.team2[i]]=this.score[this.team2[i]];return e>t?1==this.myTeam?(this.winner=1,"  You Win! "):(this.winner=2," You Lose... "):e<t?2==this.myTeam?(this.winner=2,"  You Win! "):(this.winner=1," You Lose... "):"draw!"}}},Ia=ka,Ra=(0,v.Z)(Ia,_a,Ca,!1,null,"04cab6c5",null),Ea=Ra.exports,Ua=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex justify-center align-center primary--text",staticStyle:{width:"100%",height:"100%","font-size":"3vw"}},[e._v(" "+e._s(e.score1)+":"+e._s(e.score2)+" ")])},Fa=[],Na={name:"ScoreBoard",props:["score1","score2"]},Ta=Na,Za=(0,v.Z)(Ta,Ua,Fa,!1,null,null,null),Ma=Za.exports,Wa=s(9592),Da=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%"}},[t("div",{staticStyle:{width:"100%",height:"10%"}},[t(Wa.Z,{attrs:{color:"amber",height:"25"},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}})],1),t("div",{staticClass:"d-flex justify-center align-center primary--text",staticStyle:{width:"100%",height:"80%","font-size":"3vw"}},[e._v(" "+e._s(e.countDown)+" ")]),t("div",{staticStyle:{width:"100%",height:"10%"}},[t(Wa.Z,{attrs:{color:"amber",height:"25"},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}})],1)])},Oa=[],Ba={name:"CountDown",props:["countDown"],computed:{progress(){return 20*this.countDown}}},Ga=Ba,La=(0,v.Z)(Ga,Da,Oa,!1,null,null,null),Ha=La.exports;R().defaults.headers.post["Content-Type"]="application/json";const Pa="https://teachablemachine.withgoogle.com/models/w6iITyYRf/";let ja,Va,Qa,Xa,Ja;const za="room";var Ya={name:"App",components:{UserVideo:zt,GameResultModal:Ea,ContentBox:re,ScoreBoard:Ma,CountDown:Ha},data(){return{OV:void 0,session:void 0,mainStreamManager:void 0,publisher:void 0,subscribers:[null,null,null,null,null],game:void 0,mySessionId:"",myUserName:"",videoMute:!1,audioMute:!1,user:{},roomNo:"",isHost:!1,status:0,team1:[],team2:[],personalScore:{},score1:0,score2:0,teamNo:0,gameFinished:!1,pose1:0,pose2:0,signal:[0,0,0,0,0],countDown:0}},methods:{gameHistory(){const e=this.roomNo,t={exerciseNum:1,gameNo:1,score:(this.win?100:0)+10*this.personalScore[`${this.myUserName}`],teamNo:this.teamNo,win:this.win,gameHistoryNo:this.gameNo,userNo:this.getUser.no};this.setGameHistory({roomNo:e,score:t})},countDownTimer(){this.countDown>0&&setTimeout((()=>{this.countDown-=1,this.countDownTimer()}),1e3)},dataInit(){this.score1=0,this.score2=0;for(let e in this.personalScore)this.personalScore[`${e}`]=0},joinSession(){this.OV=new Dt.Dn,this.session=this.OV.initSession(),this.session.on("streamCreated",(({stream:e})=>{const t=this.session.subscribe(e);if(console.log(t.stream.connection.data),this.team1.includes(t.stream.connection.data)&&1===this.teamNo){for(let s=0;s<2;s++)if(null===this.subscribers[s]){this.subscribers[s]=t;break}}else if(this.team2.includes(t.stream.connection.data)&&2===this.teamNo){for(let s=0;s<2;s++)if(null===this.subscribers[s]){this.subscribers[s]=t;break}}else for(let s=2;s<5;s++)if(null===this.subscribers[s]){this.subscribers[s]=t;break}})),this.session.on("streamDestroyed",(({stream:e})=>{const t=this.subscribers.indexOf(e.streamManager,0);this.subscribers[t]=null})),this.session.on("exception",(({exception:e})=>{console.warn(e)})),this.session.on("signal:score",(e=>{console.log(e.data),this.game.scene.getScene("ropeFightScene").gameActive&&(this.team1.includes(e.data)?(this.score1+=1,this.personalScore[`${e.data}`]+=1,console.log(this.personalScore[`${e.data}`]),console.log(this.personalScore),this.score1-this.score2>=10||this.game.scene.getScene("ropeFightScene").leftTime<=0&&this.score1-this.score2>=1?(this.game.scene.getScene("ropeFightScene").LeftWin(),this.gameHistory(),setTimeout((()=>this.gameFinished=!0),1e3),setTimeout((()=>this.gameFinished=!1),7e3),this.game.scene.getScene("ropeFightScene").gameActive=!1):this.score1>this.score2+7?this.game.scene.getScene("ropeFightScene").goLeftHandler(1):this.game.scene.getScene("ropeFightScene").goLeftHandler(-1)):(this.score2+=1,this.personalScore[`${e.data}`]+=1,this.score2-this.score1>=10||this.game.scene.getScene("ropeFightScene").leftTime<=0&&this.score2-this.score1>=1?(this.game.scene.getScene("ropeFightScene").RightWin(),this.gameHistory(),setTimeout((()=>this.gameFinished=!0),1e3),setTimeout((()=>this.gameFinished=!1),7e3),this.game.scene.getScene("ropeFightScene").gameActive=!1):this.score2>this.score1+7?this.game.scene.getScene("ropeFightScene").goRightHandler(1):this.game.scene.getScene("ropeFightScene").goRightHandler(-1)));let t=e.data,s=null;for(let i=0;i<this.subscribers.length;i++)if(null!==this.subscribers[i]&&this.subscribers[i].stream.connection.data===t){s=i;break}null!==s&&this.signal[s]++,console.log(e.from),console.log(e.type)})),this.session.on("signal:memberLeave",(e=>{if(console.log(e.data),console.log("참가자 퇴장"),this.isHost){const t=this.team1.indexOf(`${e.data}`),s=this.team2.indexOf(`${e.data}`);-1!==t?this.team1.splice(t,1):this.team2.splice(s,1),delete this.personalScore[`${e.data}`],this.sendTeamInfo()}})),this.session.on("signal:host",(e=>{if(console.log(e.data),console.log("호스트 수신"),!this.isHost){const t=JSON.parse(e.data);this.team1=t.team1,this.team2=t.team2,this.personalScore=t.personalScore,this.team1.includes(this.userName)?this.teamNo=1:this.teamNo=2}console.log(e.from),console.log(e.type)})),this.session.on("signal:hostLeave",(e=>{console.log("호스트 퇴장 수신"),console.log(e.from),console.log(e.type),this.leaveSession()})),this.session.on("signal:countDown",(e=>{console.log("카운트다운"),console.log(e.from),console.log(e.type),this.countDown=5,this.countDownTimer()})),this.session.on("signal:gameStart",(e=>{this.game.scene.getScene("bootScene").StartScene(0),this.game.scene.getScene("ropeFightScene").leftTime=60,this.game.scene.getScene("ropeFightScene").gameActive=!0,this.game.scene.getScene("ropeFightScene").setTeamName(this.team1,this.team2);const t=JSON.parse(e.data);this.score1=t.score1,this.score2=t.score2,this.personalScore=t.personalScore,console.log("게임 시작 수신"),console.log(e.from),console.log(e.type)})),this.init(),window.addEventListener("beforeunload",this.leaveSession)},countDownStart(){this.session.signal({data:"count",to:[],type:"countDown"}).then((()=>{console.log("Message successfully sent")})).catch((e=>{console.error(e)}))},sendStart(){console.log("게임시작"),this.dataInit(),this.session.signal({data:JSON.stringify({score1:this.score1,score2:this.score2,personalScore:this.personalScore}),to:[],type:"gameStart"}).then((()=>{console.log("Message successfully sent")})).catch((e=>{console.error(e)}))},sendScore(){this.session.signal({data:this.myUserName,to:[],type:"score"}).then((()=>{console.log("Message successfully sent")})).catch((e=>{console.error(e)}))},connectSession(e){this.session.connect(e,this.myUserName).then((()=>{let e=this.OV.initPublisher(void 0,{audioSource:void 0,videoSource:void 0,publishAudio:!1,publishVideo:!0,resolution:"640x480",frameRate:30,insertMode:"APPEND",mirror:!0});this.mainStreamManager=e,console.log(this.mainStreamManager),this.publisher=e,this.session.publish(this.publisher)})).catch((e=>{console.log("There was an error connecting to the session:",e.code,e.message)}))},leaveSession(){this.game.destroy(!0),this.isHost?this.session.signal({data:this.myUserName,to:[],type:"hostLeave"}).then((()=>{console.log("Message successfully sent")})).catch((e=>{console.error(e)})):this.session.signal({data:this.myUserName,to:[],type:"memberLeave"}).then((()=>{console.log("Message successfully sent")})).catch((e=>{console.error(e)})),this.session&&this.session.disconnect();const e={code:this.mySessionId,id:this.myUserName};this.leaveRoom(e),this.session=void 0,this.mainStreamManager=void 0,this.publisher=void 0,this.subscribers=[],this.OV=void 0,this.SET_ROOMCLOSE(),window.removeEventListener("beforeunload",this.leaveSession),this.$router.push("/waiting")},sendTeamInfo(){this.session.signal({data:JSON.stringify({team1:this.team1,team2:this.team2,personalScore:this.personalScore}),to:[],type:"host"}).then((()=>{console.log("Message successfully sent")})).catch((e=>{console.error(e)}))},updateMainVideoStreamManager(e){this.mainStreamManager!==e&&(this.mainStreamManager=e)},videoControl(){this.videoMute?(this.publisher.publishVideo(!0),this.videoMute=!1):(this.publisher.publishVideo(!1),this.videoMute=!0)},audioControl(){this.audioMute?(this.publisher.publishAudio(!0),this.audioMute=!1):(this.publisher.publishAudio(!1),this.audioMute=!0)},async init(){const e=Pa+"model.json",t=Pa+"metadata.json";ja=await tmPose.load(e,t),Ja=ja.getTotalClasses();const s=!0;Va=new tmPose.Webcam(200,200,s),await Va.setup(),Va.play(),window.requestAnimationFrame(this.loop);const i=document.getElementById("main-video-canvas");i.width=200,i.height=200,Qa=i.getContext("2d"),Xa=document.getElementById("label-container");for(let a=0;a<Ja;a++)Xa.appendChild(document.createElement("div"))},async loop(e){Va.update(),await this.predict(),window.requestAnimationFrame(this.loop)},async predict(){const{pose:e,posenetOutput:t}=await ja.estimatePose(Va.canvas),s=await ja.predict(t);s[0].probability.toFixed(2)>=.99?(1==this.status&&this.session.signal({data:this.myUserName,to:[],type:"score"}).then((()=>{console.log("Message successfully sent")})).catch((e=>{console.error(e)})),this.status=0):s[1].probability.toFixed(2)>=.99&&(this.status=1);for(let i=0;i<Ja;i++){const e=s[i].className+": "+s[i].probability.toFixed(2);Xa.childNodes[i].innerHTML=e}this.pose1=Number(s[0].probability.toFixed(2)),this.pose2=Number(s[1].probability.toFixed(2))},drawPose(e){if(Qa.drawImage(Va.canvas,0,0),e){const t=.5;tmPose.drawKeypoints(e.keypoints,t,Qa),tmPose.drawSkeleton(e.keypoints,t,Qa)}},...(0,f.nv)(za,["leaveRoom","setGameHistory","setGameScore"]),...(0,f.OI)(za,["SET_ROOMCLOSE"])},computed:{...(0,f.Se)(za,["roomJoin"]),...(0,f.Se)(["getUser"]),...(0,f.rn)(za,["room","users"]),win(){return(this.score1>this.score2?1:2)===this.teamNo}},watch:{countDown:function(){0===this.countDown&&this.sendStart()}},mounted(){this.game=Aa()},created(){this.roomJoin?(console.log("방 입장"),this.mySessionId=this.room.code,this.roomNo=this.room.no,this.myUserName=this.getUser.nick,this.joinSession(),this.connectSession(this.room.token),this.user=this.users.filter((e=>e.nick===this.myUserName))[0],this.teamNo=this.user.team,this.isHost=this.user.host,this.users.forEach((e=>{1===e.team?this.team1.push(e.nick):this.team2.push(e.nick),this.personalScore[`${e.nick}`]=0}))):this.$router.push("/waiting")},beforeDestroy(){console.log("destroy"),this.session&&this.leaveSession()}},qa=Ya,Ka=(0,v.Z)(qa,Mt,Wt,!1,null,"0b4dcdba",null),$a=Ka.exports,eo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex flex-column align-center",staticStyle:{height:"100%",width:"100%"}},[t("div",{staticClass:"d-flex justify-center align-center",staticStyle:{height:"50%",width:"100%"}},[e.gameFinished?t("GameResultModal",{attrs:{score:e.personalScore,team1:this.team1,team2:this.team2,myName:this.myUserName}}):e._e(),t("div",{staticStyle:{display:"none"},attrs:{id:"label-container"}}),e._m(0)],1),t("div",{staticClass:"d-flex justify-center align-center",staticStyle:{height:"50%",width:"100%"}},[t("div",{staticClass:"d-flex flex-column justify-space-between",staticStyle:{height:"98%",width:"90%"}},[t("div",{staticClass:"d-flex flex-row justify-space-between",staticStyle:{height:"48%",width:"100%%"}},[t("div",{staticStyle:{heigth:"100%",width:"20%",background:"rgba(0, 0, 0, 0.5)"}},[t("user-video",{attrs:{pose1:parseFloat(e.pose1),pose2:parseFloat(e.pose2),"stream-manager":e.publisher}}),t("canvas",{staticStyle:{display:"none"},attrs:{id:"main-video-canvas"}})],1),t("div",{staticStyle:{heigth:"100%",width:"47%"}},[t("ContentBox",{attrs:{height:100,width:100}},[e.countDown?e._e():t("ScoreBoard",{attrs:{nameList:Object.keys(this.personalScore),scoreList:e.personalScore}}),e.countDown?e._e():t("button",{staticClass:"btn btn-lg btn-success",on:{click:function(t){return e.countDownStart()}}},[e._v("Start")]),e.countDown?e._e():t("button",{staticClass:"btn btn-lg btn-success",on:{click:function(t){return e.gameHistory()}}},[e._v("Start")]),e.countDown?t("CountDown",{attrs:{countDown:e.countDown}}):e._e(),t("div",{attrs:{id:"label-container"}})],1)],1),t("div",{staticStyle:{heigth:"100%",width:"20%",background:"rgba(0, 0, 0, 0.5)"}},[null!==e.subscribers[0]?t("user-video",{attrs:{"stream-manager":e.subscribers[0],signal:e.signal[0]}}):e._e()],1)]),t("div",{staticClass:"d-flex flex-row justify-space-between",staticStyle:{height:"48%",width:"100%%"}},[t("div",{staticStyle:{heigth:"100%",width:"20%",background:"rgba(0, 0, 0, 0.5)"}},[null!==e.subscribers[1]?t("user-video",{attrs:{"stream-manager":e.subscribers[1],signal:e.signal[1]}}):e._e()],1),t("div",{staticStyle:{heigth:"100%",width:"20%",background:"rgba(0, 0, 0, 0.5)"}},[null!==e.subscribers[2]?t("user-video",{attrs:{"stream-manager":e.subscribers[2],signal:e.signal[2]}}):e._e()],1),t("div",{staticStyle:{heigth:"100%",width:"20%",background:"rgba(0, 0, 0, 0.5)"}},[null!==e.subscribers[3]?t("user-video",{attrs:{"stream-manager":e.subscribers[3],signal:e.signal[3]}}):e._e()],1),t("div",{staticStyle:{heigth:"100%",width:"20%",background:"rgba(0, 0, 0, 0.5)"}},[null!==e.subscribers[4]?t("user-video",{attrs:{"stream-manager":e.subscribers[4],signal:e.signal[4]}}):e._e()],1)])])])])},to=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex",staticStyle:{height:"98%",width:"90%"}},[t("div",{staticStyle:{height:"100%",width:"100%"},attrs:{id:"game-container"}})])}],so=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal"},[t("div",{staticClass:"overlay"},[t("div",{staticClass:"modal-card"},[t("ContentBox",{attrs:{height:100,width:100}},[t("div",{staticClass:"d-flex flex-column"},[t("div",{staticClass:"flex-grow-1 d-flex flex-row justify-center primary--text font-weight-bold win-logo animate__heartBeat",attrs:{id:"Main"}},[e._v(e._s(e.WhoWins()))]),t("div",{staticClass:"flex-grow-1 d-flex flex-row justify-center primary--text font-weight-bold win-logo"},[t("div",{staticClass:"d-flex flex-column align-center"},[t("br"),e._l(e.allScore,(function(s,i){return t("div",{key:s,staticClass:"flex-grow-1 d-flex flex-row justify-center primary--text font-weight-bold win-logo"},[e._v(e._s(i+1))])}))],2),e._v("       "),t("div",{staticClass:"d-flex flex-column align-center"},[e._v(" NICKNAME "),e._l(e.allScore,(function(s){return t("div",{key:s,staticClass:"flex-grow-1 d-flex flex-row justify-center primary--text font-weight-bold win-logo"},[e._v(e._s(s.name))])}))],2),e._v("       "),t("div",{staticClass:"d-flex flex-column align-center"},[e._v(" SCORE "),e._l(e.allScore,(function(s){return t("div",{key:s,staticClass:"flex-grow-1 d-flex flex-row justify-center primary--text font-weight-bold win-logo"},[e._v(e._s(s.score))])}))],2)])])])],1)])])},io=[],ao={props:{score:{type:Object},team1:{type:Array},team2:{type:Array},myName:{type:String}},components:{ContentBox:re},mounted(){},data(){return{winner:void 0,myTeam:0,allScore:[],team1_personalScore:{},team2_personalScore:{}}},methods:{WhoWins(){let e;for(e=0;e<this.team1.length;e++)this.allScore.push({name:this.team1[e],score:this.score[this.team1[e]]});for(e=0;e<this.team2.length;e++)this.allScore.push({name:this.team2[e],score:this.score[this.team2[e]]});for(this.allScore.sort((function(e,t){return e.score>t.score?-1:e.score<t.score?1:0})),e=0;e<this.allScore.length;e++)if(this.myName==this.allScore[e].name)return"Your Rate : #"+(e+1)}}},oo=ao,no=(0,v.Z)(oo,so,io,!1,null,"3cae5b50",null),ro=no.exports,lo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex justify-center align-center primary--text",staticStyle:{width:"100%",height:"100%","font-size":"2vw"}},[e._v(" "+e._s(e.nameList[0])+":"+e._s(e.scoreList[e.nameList[0]])+"      "+e._s(e.nameList[1])+":"+e._s(e.scoreList[e.nameList[1]])+" "),t("br"),e._v(" "+e._s(e.nameList[2])+":"+e._s(e.scoreList[e.nameList[2]])+"      "+e._s(e.nameList[3])+":"+e._s(e.scoreList[e.nameList[3]])+" "),t("br"),e._v(" "+e._s(e.nameList[4])+":"+e._s(e.scoreList[e.nameList[4]])+"      "+e._s(e.nameList[5])+":"+e._s(e.scoreList[e.nameList[5]])+" ")])},co=[],ho={name:"ScoreBoard",props:["nameList","scoreList"]},mo=ho,go=(0,v.Z)(mo,lo,co,!1,null,null,null),uo=go.exports;R().defaults.headers.post["Content-Type"]="application/json";const po="https://teachablemachine.withgoogle.com/models/w6iITyYRf/";let fo,yo,So,vo,xo;const bo="room";var wo={name:"App",components:{UserVideo:zt,GameResultModal:ro,ContentBox:re,ScoreBoard:uo,CountDown:Ha},data(){return{OV:void 0,session:void 0,mainStreamManager:void 0,publisher:void 0,subscribers:[null,null,null,null,null],game:void 0,mySessionId:"",myUserName:"",videoMute:!1,audioMute:!1,user:{},roomNo:"",isHost:!1,status:0,team1:[],team2:[],personalScore:{},score1:0,score2:0,teamNo:0,gameFinished:!1,pose1:0,pose2:0,signal:[0,0,0,0,0],countDown:0,win:!1}},methods:{gameHistory(){const e=this.roomNo,t={exerciseNum:1,gameNo:1,score:(this.win?100:0)+10*this.personalScore[`${this.myUserName}`],teamNo:this.teamNo,win:this.win,gameHistoryNo:this.gameNo,userNo:this.getUser.no};this.setGameHistory({roomNo:e,score:t})},countDownTimer(){this.countDown>0&&setTimeout((()=>{this.countDown-=1,this.countDownTimer()}),1e3)},dataInit(){this.score1=0,this.score2=0;for(let e in this.personalScore)this.personalScore[`${e}`]=0},joinSession(){this.OV=new Dt.Dn,this.session=this.OV.initSession(),this.game.scene.getScene("waitingScene").gameCategory=1,this.session.on("streamCreated",(({stream:e})=>{const t=this.session.subscribe(e);if(console.log(t.stream.connection.data),this.team1.includes(t.stream.connection.data)&&1===this.teamNo){for(let s=0;s<2;s++)if(null===this.subscribers[s]){this.subscribers[s]=t;break}}else if(this.team2.includes(t.stream.connection.data)&&2===this.teamNo){for(let s=0;s<2;s++)if(null===this.subscribers[s]){this.subscribers[s]=t;break}}else for(let s=2;s<5;s++)if(null===this.subscribers[s]){this.subscribers[s]=t;break}})),this.session.on("streamDestroyed",(({stream:e})=>{const t=this.subscribers.indexOf(e.streamManager,0);this.subscribers[t]=null})),this.session.on("exception",(({exception:e})=>{console.warn(e)})),this.session.on("signal:score",(e=>{console.log(e.data),this.gameEnd||(this.personalScore[`${e.data}`]<10?(this.personalScore[`${e.data}`]+=1,this.game.scene.getScene("runningScene").GoRight(`${e.data}`)):(e.data===this.myUserName&&(this.win=!0),this.game.scene.getScene("runningScene").Winner(`${e.data}`),this.gameEnd=!0,this.gameHistory()));let t=e.data,s=null;for(let i=0;i<this.subscribers.length;i++)if(null!==this.subscribers[i]&&this.subscribers[i].stream.connection.data===t){s=i;break}null!==s&&this.signal[s]++})),this.session.on("signal:memberLeave",(e=>{if(console.log(e.data),console.log("참가자 퇴장"),this.isHost){const t=this.team1.indexOf(`${e.data}`),s=this.team2.indexOf(`${e.data}`);-1!==t?this.team1.splice(t,1):this.team2.splice(s,1),delete this.personalScore[`${e.data}`],this.sendTeamInfo()}})),this.session.on("signal:host",(e=>{if(console.log(e.data),console.log("호스트 수신"),!this.isHost){const t=JSON.parse(e.data);this.team1=t.team1,this.team2=t.team2,this.personalScore=t.personalScore,this.team1.includes(this.userName)?this.teamNo=1:this.teamNo=2}console.log(e.from),console.log(e.type)})),this.session.on("signal:hostLeave",(e=>{console.log("호스트 퇴장 수신"),console.log(e.from),console.log(e.type),this.leaveSession()})),this.session.on("signal:countDown",(e=>{console.log("카운트다운"),console.log(e.from),console.log(e.type),this.countDown=5,this.countDownTimer()})),this.session.on("signal:gameStart",(e=>{const t=JSON.parse(e.data);this.gameEnd=!1,this.game.scene.getScene("bootScene").StartScene(1),this.game.scene.getScene("runningScene").setName(Object.keys(this.personalScore)),this.score1=t.score1,this.score2=t.score2,this.personalScore=t.personalScore,console.log("게임 시작 수신"),console.log(e.from),console.log(e.type)})),this.init(),window.addEventListener("beforeunload",this.leaveSession)},countDownStart(){this.session.signal({data:"count",to:[],type:"countDown"}).then((()=>{console.log("Message successfully sent")})).catch((e=>{console.error(e)}))},sendStart(){console.log("게임시작"),this.gameEnd=!1,this.game.scene.getScene("bootScene").StartScene(1),this.game.scene.getScene("runningScene").setName(Object.keys(this.personalScore)),this.dataInit(),this.session.signal({data:JSON.stringify({score1:this.score1,score2:this.score2,personalScore:this.personalScore}),to:[],type:"gameStart"}).then((()=>{console.log("Message successfully sent")})).catch((e=>{console.error(e)}))},sendScore(){this.session.signal({data:this.myUserName,to:[],type:"score"}).then((()=>{console.log("Message successfully sent")})).catch((e=>{console.error(e)}))},connectSession(e){this.session.connect(e,this.myUserName).then((()=>{let e=this.OV.initPublisher(void 0,{audioSource:void 0,videoSource:void 0,publishAudio:!1,publishVideo:!0,resolution:"640x480",frameRate:30,insertMode:"APPEND",mirror:!0});this.mainStreamManager=e,console.log(this.mainStreamManager),this.publisher=e,this.session.publish(this.publisher)})).catch((e=>{console.log("There was an error connecting to the session:",e.code,e.message)}))},leaveSession(){this.game.destroy(!0),this.isHost?this.session.signal({data:this.myUserName,to:[],type:"hostLeave"}).then((()=>{console.log("Message successfully sent")})).catch((e=>{console.error(e)})):this.session.signal({data:this.myUserName,to:[],type:"memberLeave"}).then((()=>{console.log("Message successfully sent")})).catch((e=>{console.error(e)})),this.session&&this.session.disconnect();const e={code:this.mySessionId,id:this.myUserName};this.leaveRoom(e),this.session=void 0,this.mainStreamManager=void 0,this.publisher=void 0,this.subscribers=[],this.OV=void 0,this.SET_ROOMCLOSE(),window.removeEventListener("beforeunload",this.leaveSession),this.$router.push("/waiting")},sendTeamInfo(){this.session.signal({data:JSON.stringify({team1:this.team1,team2:this.team2,personalScore:this.personalScore}),to:[],type:"host"}).then((()=>{console.log("Message successfully sent")})).catch((e=>{console.error(e)}))},updateMainVideoStreamManager(e){this.mainStreamManager!==e&&(this.mainStreamManager=e)},videoControl(){this.videoMute?(this.publisher.publishVideo(!0),this.videoMute=!1):(this.publisher.publishVideo(!1),this.videoMute=!0)},audioControl(){this.audioMute?(this.publisher.publishAudio(!0),this.audioMute=!1):(this.publisher.publishAudio(!1),this.audioMute=!0)},async init(){const e=po+"model.json",t=po+"metadata.json";fo=await tmPose.load(e,t),xo=fo.getTotalClasses();const s=!0;yo=new tmPose.Webcam(200,200,s),await yo.setup(),yo.play(),window.requestAnimationFrame(this.loop);const i=document.getElementById("main-video-canvas");i.width=200,i.height=200,So=i.getContext("2d"),vo=document.getElementById("label-container");for(let a=0;a<xo;a++)vo.appendChild(document.createElement("div"))},async loop(e){yo.update(),await this.predict(),window.requestAnimationFrame(this.loop)},async predict(){const{pose:e,posenetOutput:t}=await fo.estimatePose(yo.canvas),s=await fo.predict(t);s[0].probability.toFixed(2)>=.99?(1==this.status&&this.session.signal({data:this.myUserName,to:[],type:"score"}).then((()=>{console.log("Message successfully sent")})).catch((e=>{console.error(e)})),this.status=0):s[1].probability.toFixed(2)>=.99&&(this.status=1);for(let i=0;i<xo;i++){const e=s[i].className+": "+s[i].probability.toFixed(2);vo.childNodes[i].innerHTML=e}this.pose1=Number(s[0].probability.toFixed(2)),this.pose2=Number(s[1].probability.toFixed(2))},drawPose(e){if(So.drawImage(yo.canvas,0,0),e){const t=.5;tmPose.drawKeypoints(e.keypoints,t,So),tmPose.drawSkeleton(e.keypoints,t,So)}},...(0,f.nv)(bo,["leaveRoom","setGameHistory","setGameScore"]),...(0,f.OI)(bo,["SET_ROOMCLOSE"])},computed:{...(0,f.Se)(bo,["roomJoin"]),...(0,f.Se)(["getUser"]),...(0,f.rn)(bo,["room","users"])},watch:{countDown:function(){0===this.countDown&&this.sendStart()}},mounted(){this.game=Aa()},created(){this.roomJoin?(console.log("방 입장"),this.mySessionId=this.room.code,this.roomNo=this.room.no,this.myUserName=this.getUser.nick,this.joinSession(),this.connectSession(this.room.token),this.user=this.users.filter((e=>e.nick===this.myUserName))[0],this.teamNo=this.user.team,this.isHost=this.user.host,this.users.forEach((e=>{1===e.team?this.team1.push(e.nick):this.team2.push(e.nick),this.personalScore[`${e.nick}`]=0}))):this.$router.push("/waiting")},beforeDestroy(){console.log("destroy"),this.session&&this.leaveSession()}},Ao=wo,_o=(0,v.Z)(Ao,eo,to,!1,null,"1bf71543",null),Co=_o.exports,ko=s(4324),Io=function(){var e=this,t=e._self._c;return t("ContentBox",{attrs:{height:100,width:100}},[t("div",{staticClass:"d-flex flex-column align-center",staticStyle:{width:"100%",height:"100%"}},[t("div",{staticClass:"room-list d-flex flex-column align-center justify-space-around"},e._l(e.rooms,(function(e,s){return t("RoomItem",{key:s,attrs:{room:e,"v-show":0!==Object.keys(e).length}})})),1),t("div",{staticClass:"room-input-footer d-flex align-center flex-row justify-space-between"},[t("div",{staticClass:"d-flex flex-row align-center"},[t("button",{staticClass:"primary pl-4 pr-4 room-list-btn mr-6",on:{click:e.refresh}},[e._v("새로고침")]),t("PrivateRoomDialog",{staticClass:"primary pl-4 pr-4 room-list-btn"})],1),t("div",{staticClass:"d-flex flex-row align-center"},[t(ko.Z,{staticClass:"direction-button primary--text",attrs:{size:"60px"},on:{mouseup:e.prevPageEvent}},[e._v(" mdi-chevron-left ")]),t("div",{staticClass:"primary--text",staticStyle:{"font-weight":"bold","font-size":"1.7vw"}},[e._v(e._s(e.curPage)+"/"+e._s(e.lastPage))]),t(ko.Z,{staticClass:"direction-button primary--text",attrs:{size:"60px"},on:{mouseup:e.nextPageEvent}},[e._v(" mdi-chevron-right ")])],1)])])])},Ro=[],Eo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"room-info d-flex flex-row justify-space-between deepblue",class:[e.room.visible?"":"room-info-hidden"]},[t("div",{staticClass:"d-flex flex-column justify-center ml-6"},[t("div",{staticClass:"white--text room-host"},[e._v(e._s(e.room.host))]),t("div",{staticClass:"blue--text room-title"},[e._v(e._s(e.room.name))])]),t("div",{staticClass:"d-flex flex-row mr-3 align-center"},[t("div",{staticClass:"white--text room-status mr-4"},[e._v(e._s(e.room.userCount)+"/6")]),t("button",{staticClass:"blue deepblue--text room-submit pr-5 pl-5",on:{click:e.join}},[e._v("입장하기")])])])},Uo=[];const Fo="room";var No={name:"RoomItem",props:["room"],methods:{...(0,f.nv)(Fo,["joinRoom"]),join(){this.joinRoom(this.room.code)}}},To=No,Zo=(0,v.Z)(To,Eo,Uo,!1,null,"1bd08778",null),Mo=Zo.exports,Wo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"private-room-dialog"},[t(Se.Z,{staticClass:"d-flex align-center",attrs:{"max-width":"35vw"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t("button",e._g(e._b({staticStyle:{width:"100%",height:"50px","font-weight":"bold"}},"button",i,!1),s),[e._v(" 코드 입력 ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(m.Z,{staticClass:"room-create align-center",attrs:{color:"brown",width:"35vw"}},[t(d.km,{staticClass:"align-center justify-center"},[t(o.Z,{staticClass:"d-flex flex-column justify-center"},[t(me.Z,{staticClass:"d-flex mt-2 mb-2"},[t(he.Z,{staticClass:"text-center",attrs:{cols:"4"}},[t("div",{staticClass:"primary--text",staticStyle:{"font-size":"1.2rem","font-weight":"bold"}},[e._v("방 코드")])]),t(he.Z,{attrs:{cols:"7"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.roomCode,expression:"roomCode"}],attrs:{id:"room-title",type:"text"},domProps:{value:e.roomCode},on:{input:function(t){t.target.composing||(e.roomCode=t.target.value)}}})])],1),t("br"),t(h.Z,{staticClass:"page-btn black--text align-self-center",staticStyle:{width:"30vw",height:"40px","font-weight":"bold","font-size":"1.1rem"},attrs:{color:"primary",elevation:"0"},on:{click:e.joinRoomEvent}},[e._v(" 입장 ")])],1)],1)],1)],1)],1)},Do=[];const Oo="room";var Bo={name:"PrivateRoomDialog",data(){return{dialog:!1,roomCode:""}},methods:{...(0,f.nv)(Oo,["joinRoom"]),joinRoomEvent(){this.joinRoom(this.roomCode)}}},Go=Bo,Lo=(0,v.Z)(Go,Wo,Do,!1,null,null,null),Ho=Lo.exports;let Po="roomStore";var jo={name:"RoomList",components:{RoomItem:Mo,ContentBox:re,PrivateRoomDialog:Ho},data(){return{}},created(){this.getRooms(1)},methods:{...(0,f.nv)(Po,["getRooms"]),...(0,f.OI)(Po,["NEXT_CUR_PAGE","PREV_CUR_PAGE"]),nextPageEvent(){this.curPage<this.lastPage&&this.NEXT_CUR_PAGE(),this.getRooms(this.curPage)},prevPageEvent(){this.curPage>1&&this.PREV_CUR_PAGE(),this.getRooms(this.curPage)},refresh(){this.getRooms(1)}},computed:{...(0,f.rn)(Po,["lastPage","rooms","curPage"])}},Vo=jo,Qo=(0,v.Z)(Vo,Io,Ro,!1,null,"17d3bc80",null),Xo=Qo.exports,Jo=function(){var e=this,t=e._self._c;return t("content-box",{attrs:{height:100,width:100}},[t("div",{staticClass:"d-flex flex-row",staticStyle:{width:"100%",height:"100%"}},[t("div",{staticClass:"d-flex flex-column",staticStyle:{width:"75%",height:"100%"}},[t("div",{staticClass:"room-user-grid-wrap"},e._l(e.users,(function(e,s){return t("RoomUserItem",{key:s,attrs:{nick:e.nick,height:80,width:80,img:e.img,team:e.team}})})),1)]),t("div",{staticClass:"d-flex align-center",staticStyle:{width:"25%",height:"100%"}},[t("RoomUserControl",{attrs:{isHost:e.isHost,gameType:e.gameType,stompClient:e.stompClient}})],1)])])},zo=[],Yo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex justify-center align-center"},[t("div",{staticClass:"room-user-item d-flex flex-column justify-center align-center",class:{team1:1==this.team,team2:2==this.team},staticStyle:{background:"#4a3e33"},style:{width:this.width+"%",height:this.height+"%"}},[t("div",[t(c.Z,{attrs:{size:"80",color:"white"}},[t("img",{attrs:{src:s(3176)(`./${e.img}.png`),alt:"profile"}})])],1),t("div",{staticClass:"primary--text",staticStyle:{"font-size":"2vw"}},[e._v(e._s(e.nick))])])])},qo=[],Ko={name:"RoomUserItem",props:["height","width","nick","team","img"]},$o=Ko,en=(0,v.Z)($o,Yo,qo,!1,null,null,null),tn=en.exports,sn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex flex-column align-center justify-space-around",staticStyle:{width:"100%",height:"90%"}},[t("div",{staticClass:"d-flex justify-center align-center primary--text",staticStyle:{height:"30%",width:"100%","font-size":"4vw"}},[e._v(e._s(this.users.length)+"/6")]),t("div",{staticClass:"primary--text d-flex flex-column align-center",staticStyle:{height:"30%",width:"100%"}},[t("div",{staticClass:"d-flex justify-center",staticStyle:{height:"30%",width:"100%","font-size":"1vw"}},[e._v("게임 종류")]),t("div",{staticClass:"d-flex flex-row justify-space-around align-center",staticStyle:{height:"70%",width:"100%"}},[t("button",{staticClass:"rope-icon",class:[0==e.gameType?"button-border":""],staticStyle:{width:"30%",height:"80%","border-radius":"3px"},on:{click:function(t){return e.gameTypeEvent(0)}}}),t("button",{staticClass:"run-icon",class:[1==e.gameType?"button-border":""],staticStyle:{width:"30%",height:"80%","border-radius":"3px"},on:{click:function(t){return e.gameTypeEvent(1)}}})])]),0===e.gameType?t("div",{staticClass:"primary--text d-flex justify-space-around align-center",staticStyle:{height:"10%",width:"100%"}},[t("div",{staticStyle:{"font-size":"1vw"}},[e._v("팀 선택")]),t("button",{staticClass:"team-button",class:[0==e.team?"button-border":""],staticStyle:{background:"white"},on:{click:function(t){return e.teamEvent(0)}}}),t("button",{staticClass:"team-button",class:[1==e.team?"button-border":""],staticStyle:{background:"#92b6d8"},on:{click:function(t){return e.teamEvent(1)}}}),t("button",{staticClass:"team-button",class:[2==e.team?"button-border":""],staticStyle:{background:"#ff6161"},on:{click:function(t){return e.teamEvent(2)}}})]):e._e(),1===e.gameType?t("div",{staticClass:"primary--text d-flex justify-space-around align-center",staticStyle:{height:"10%",width:"100%"}},[t("div",{staticStyle:{"font-size":"1vw"}},[e._v("개인전")])]):e._e(),t("div",{staticClass:"d-flex flex-column justify-space-around align-center",staticStyle:{height:"30%",width:"100%"}},[e.isHost?t("button",{staticClass:"primary",staticStyle:{width:"90%",height:"35%","border-radius":"3px"},on:{click:e.startEvent}},[e._v("게임시작")]):e._e(),t("button",{staticClass:"primary",staticStyle:{width:"90%",height:"35%","border-radius":"3px"}},[e._v("나가기")])])])},an=[];const on="room";var nn={name:"RoomUserControl",data(){return{team:0}},props:["stompClient","isHost","gameType"],methods:{...(0,f.OI)(on,["SET_ROOMJOIN","INIT_TEAM_INFO"]),gameTypeEvent(e){if(this.isHost){let t={type:"ChangeGame",gameType:e,roomId:this.room.code,users:this.users};this.send(t),1==e&&this.INIT_TEAM_INFO()}},teamEvent(e){this.team=e;let t={type:"ChangeTeam",roomId:this.room.code,user:{userId:this.getUser.userId,nick:this.getUser.nick,team:e,host:this.isHost,img:this.getUser.img}};this.send(t)},send(e){this.stompClient&&this.stompClient.connected&&this.stompClient.send("/room",JSON.stringify(e),{})},startEvent(){if(this.isHost){let e={type:"Start",roomId:this.room.code,users:this.users};this.send(e),this.SET_ROOMJOIN(),1===this.room.gameNo?this.$router.push("/room"):2===this.room.gameNo&&this.$router.push("/runningroom")}}},computed:{...(0,f.rn)(on,["users","room","roomJoin"]),...(0,f.Se)(["getUser"])}},rn=nn,ln=(0,v.Z)(rn,sn,an,!1,null,"9de69858",null),cn=ln.exports;const hn="room";var mn={components:{ContentBox:re,RoomUserItem:tn,RoomUserControl:cn},name:"RoomUserList",data(){return{stompClient:null,userName:"",message:"",connected:!1,isHost:null,sendVo:{},gameType:0}},created:function(){this.isHost=this.getUser.nick===this.room.host,this.connect()},beforeDestroy:function(){window.removeEventListener("beforeunload",this.exitRoom),this.exitRoom(),this.stompClient.disconnect((()=>{console.log("소켓 연결 해제")}),{})},methods:{...(0,f.OI)(hn,["ADD_USER","DELETE_USER","SET_USERS","INIT_ROOM","INIT_USERS","SET_ROOMJOIN","UPDATE_USER"]),...(0,f.nv)(hn,["leaveRoom"]),connect(){const e=U+"/api/v1/ws";let t=new(it())(e);this.stompClient=ot().over(t),console.log(`소켓 연결을 시도합니다. 서버 주소: ${e}`),this.stompClient.connect(this.authHeader,(e=>{if(this.connected=!0,console.log("소켓 연결 성공",e),this.stompClient.subscribe("/send/"+this.room.code,(e=>{console.log("구독으로 받은 메시지 입니다.",e.body),this.receive(JSON.parse(e.body))})),window.addEventListener("beforeunload",this.exitRoom),!this.isHost){let e={type:"Enter",roomId:this.room.code,gameType:0,user:{userId:this.getUser.userId,nick:this.getUser.nick,team:0,isHost:!1,img:this.getUser.img}};this.send(e)}}),(e=>{console.log("소켓 연결 실패",e),this.connected=!1}))},exitRoom(){let e;e=this.isHost?"LeaveHost":"Leave";let t={type:e,roomId:this.room.code,user:{userId:this.getUser.userId,nick:this.getUser.nick,team:0,host:!1}};this.send(t),this.stompClient.disconnect((()=>{console.log("소켓 연결 해제")}),{})},send(e){this.stompClient&&this.stompClient.connected&&this.stompClient.send("/room",JSON.stringify(e),{})},receive({type:e,user:t,users:s,gameType:i}){this.isHost?"Enter"===e?this.ADD_USER(t):"Leave"===e?this.DELETE_USER(t.nick):"ChangeGame"===e?this.gameType=i:"ChangeTeam"===e&&this.UPDATE_USER(t):"Sync"===e?(this.SET_USERS(s),void 0!==i&&(this.gameType=i)):"LeaveHost"===e?this.$router.push("/waiting"):"Start"===e&&(this.SET_ROOMJOIN(),1===this.room.gameNo?this.$router.push("/room"):2===this.room.gameNo&&this.$router.push("/runningroom"))},sync(){if(this.isHost){let e={type:"Sync",gameType:this.gameType,roomId:this.room.code,users:this.users};this.send(e)}}},computed:{...(0,f.rn)(hn,["room","users"]),...(0,f.Se)(["getUser","authHeader"])},watch:{users(){this.sync()},gameType(){this.sync()}}},dn=mn,gn=(0,v.Z)(dn,Jo,zo,!1,null,"72128a94",null),un=gn.exports,pn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mypage"},[t("div",{staticClass:"d-flex flex-column",staticStyle:{flex:"1 1 100%"}},[t("div",{staticClass:"mypage-logo d-flex align-self-center"},[e._v("MY PAGE")]),t("div",{staticClass:"d-flex flex-row"},[t("div",{staticClass:"d-flex justify-center",staticStyle:{flex:"1 1 30%"}},[t("div",{staticClass:"d-flex justify-center",staticStyle:{flex:"1 1 80%"}},[t("CharaterBox")],1)]),t("div",{staticClass:"d-flex justify-center",staticStyle:{flex:"1 1 70%"}},[t("div",{staticClass:"d-flex justify-center",staticStyle:{flex:"1 1 80%"}},[t("InformationBox")],1)])])])])},fn=[],yn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"information-box d-flex",staticStyle:{flex:"1"}},[t("ContentBox",{attrs:{height:100,width:80}},[t(o.Z,[t(me.Z,{attrs:{justify:"center",align:"center"}},[t(he.Z,{attrs:{cols:"11"}},[t("label",{staticClass:"primary--text",attrs:{for:"nickname"}},[e._v("닉네임")])]),t(he.Z,{attrs:{cols:"11"}},[t("div",{staticClass:"nickname white--text"},[e._v(e._s(e.getUser.nick))])])],1),t(me.Z,{attrs:{justify:"center",align:"center"}},[t(he.Z,{attrs:{cols:"11"}},[t("label",{staticClass:"primary--text",attrs:{for:"introducing"}},[e._v("게임정보")])]),t(he.Z,{attrs:{cols:"11"}},[t("GameInfoBox")],1)],1)],1)],1)],1)},Sn=[],vn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"game-info-box"},[t(m.Z,{staticClass:"align-center",attrs:{color:"deepblue"}},[t(d.km,{staticClass:"align-center justify-center"},[t(o.Z,{staticClass:"d-flex flex-column justify-center"},[t(me.Z,{staticClass:"d-flex justify-center"},[t(he.Z,{staticClass:"text-center",attrs:{cols:"4"}},[t("div",{staticClass:"secondary--text",staticStyle:{"font-size":"1.2rem","font-weight":"bold"}},[e._v("게임")])]),t(he.Z,{staticClass:"text-center",attrs:{cols:"4"}},[t("div",{staticClass:"secondary--text",staticStyle:{"font-size":"1.2rem","font-weight":"bold"}},[e._v("승")])]),t(he.Z,{staticClass:"text-center",attrs:{cols:"4"}},[t("div",{staticClass:"secondary--text",staticStyle:{"font-size":"1.2rem","font-weight":"bold"}},[e._v("패")])])],1),t(me.Z,{staticClass:"d-flex justify-center"},[t(he.Z,{staticClass:"text-center",attrs:{cols:"4"}},[t("div",{staticClass:"white--text",staticStyle:{"font-size":"1.2rem","font-weight":"bold"}},[e._v(e._s(e.userGameInfo.totalCnt))])]),t(he.Z,{staticClass:"text-center",attrs:{cols:"4"}},[t("div",{staticClass:"white--text",staticStyle:{"font-size":"1.2rem","font-weight":"bold"}},[e._v(e._s(e.userGameInfo.winCnt))])]),t(he.Z,{staticClass:"text-center",attrs:{cols:"4"}},[t("div",{staticClass:"white--text",staticStyle:{"font-size":"1.2rem","font-weight":"bold"}},[e._v(e._s(e.userGameInfo.loseCnt))])])],1),t(me.Z,{staticClass:"d-flex justify-center"},[t(he.Z,{staticClass:"text-center",attrs:{cols:"4"}},[t("div",{staticClass:"secondary--text",staticStyle:{"font-size":"1.2rem","font-weight":"bold"}},[e._v("운동")])]),t(he.Z,{staticClass:"text-center",attrs:{cols:"4"}},[t("div",{staticClass:"secondary--text",staticStyle:{"font-size":"1.2rem","font-weight":"bold"}},[e._v("스쿼트")])]),t(he.Z,{staticClass:"text-center",attrs:{cols:"4"}},[t("div",{staticClass:"secondary--text",staticStyle:{"font-size":"1.2rem","font-weight":"bold"}},[e._v("달리기")])])],1),t(me.Z,{staticClass:"d-flex justify-center align-center"},[t(he.Z,{staticClass:"text-center",attrs:{cols:"3"}},[t("div",{staticClass:"secondary--text",staticStyle:{"font-size":"1.2rem","font-weight":"bold"}},[e._v("랭킹")])]),t(he.Z,{staticClass:"text-center",attrs:{cols:"3"}},[t("div",{staticClass:"white--text",staticStyle:{"font-size":"1.2rem","font-weight":"bold"}},[e._v("#0")])]),t(he.Z,{staticClass:"text-center",attrs:{cols:"3"}},[t("div",{staticClass:"white--text",staticStyle:{"font-size":"1.2rem","font-weight":"bold"}},[e._v("0")])]),t(he.Z,{staticClass:"text-center",attrs:{cols:"3"}},[t(h.Z,{attrs:{text:""}},[t("router-link",{attrs:{to:"/rank"}},[e._v("전체랭킹보기")])],1)],1)],1)],1)],1)],1)],1)},xn=[],bn={name:"GameInfoBox",computed:{...(0,f.Se)(["isLoggedIn","authHeader","userExercise","userGameInfo","getUser","myRanking"])},methods:{...(0,f.nv)(["fetchExerciseInfo","fetchGameInfo","fetchMyRanking"])},created(){this.fetchExerciseInfo(),this.fetchGameInfo()}},wn=bn,An=(0,v.Z)(wn,vn,xn,!1,null,null,null),_n=An.exports,Cn={name:"InformationBox",components:{ContentBox:re,GameInfoBox:_n},data(){return{}},computed:{...(0,f.Se)(["isLoggedIn","getUser","authHeader"])},methods:{...(0,f.nv)(["fetchUserInfo"])},created(){this.fetchUserInfo()}},kn=Cn,In=(0,v.Z)(kn,yn,Sn,!1,null,null,null),Rn=In.exports,En=function(){var e=this,t=e._self._c;return t("div",{staticClass:"character-box d-flex justify-center"},[t("ContentBox",{attrs:{height:80,width:100}},[t("div",{staticClass:"d-flex flex-column"},[t("div",{staticClass:"d-flex justify-center align-self-center"},[e.getUser.img?t("img",{attrs:{src:s(3176)(`./${e.getUser.img}.png`),alt:"profile"}}):t("img",{attrs:{src:s(9371),alt:"chick"}})]),t("div",{staticClass:"d-flex justify-center"},[t("CharacterSelectionModal")],1)])])],1)},Un=[],Fn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"create-room-dialog"},[t(Se.Z,{staticClass:"d-flex align-center",attrs:{"max-width":"35vw"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(h.Z,e._g(e._b({staticClass:"character-btn primary black--text"},"v-btn",i,!1),s),[e._v(" 캐릭터 변경 ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t("form",{on:{submit:function(t){return e.submitImg(e.img)}}},[t(m.Z,{staticClass:"room-create align-center",attrs:{color:"brown",width:"35vw"}},[t(d.km,{staticClass:"align-center justify-center"},[t(o.Z,{staticClass:"d-flex flex-column justify-center"},[t(me.Z,{staticClass:"d-flex mt-2 mb-2"},e._l(e.imgList,(function(i,a){return t("div",{key:a,attrs:{image:i}},[t(he.Z,{staticClass:"text-center",attrs:{cols:"4"}},[t(c.Z,{attrs:{color:"white",size:"100"}},[t(h.Z,{on:{click:function(t){return e.sendGummibear(i)}}},[t("img",{attrs:{src:s(3176)(`./${i}.png`),alt:""}})])],1)],1)],1)})),0),t("br"),t(h.Z,{staticClass:"page-btn black--text align-self-center",staticStyle:{width:"30vw",height:"40px","font-weight":"bold","font-size":"1.1rem"},attrs:{color:"primary",elevation:"0",type:"submit"}},[e._v(" 캐릭터 변경 ")])],1)],1)],1)],1)])],1)},Nn=[],Tn={name:"CharacterSelectionModal",components:{},data:()=>({dialog:!1,img:{image:""},imgList:["gummybear","pudding","slime","stone","sushi","whale"]}),methods:{closeDialog(){this.dialog=!1},sendGummibear(e){this.img.image=e,console.log(this.img)},...(0,f.nv)(["changeImg"]),submitImg(e){this.changeImg(e),this.closeDialog()}},computed:{...(0,f.Se)(["isLoggedIn"])}},Zn=Tn,Mn=(0,v.Z)(Zn,Fn,Nn,!1,null,null,null),Wn=Mn.exports,Dn={name:"CharaterBox",components:{ContentBox:re,CharacterSelectionModal:Wn},data(){return{}},computed:{...(0,f.Se)(["getUser"])},methods:{...(0,f.nv)(["fetchUserInfo"])},created(){this.fetchUserInfo()}},On=Dn,Bn=(0,v.Z)(On,En,Un,!1,null,null,null),Gn=Bn.exports,Ln={name:"mypageView",components:{InformationBox:Rn,CharaterBox:Gn}},Hn=Ln,Pn=(0,v.Z)(Hn,pn,fn,!1,null,null,null),jn=Pn.exports,Vn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex flex-column justify-center align-center align-self-center",attrs:{id:"signup-page"}},[t("div",{staticClass:"signup-logo"},[e._v("회원가입")]),t("ContentBox",{attrs:{height:70,width:50}},[t("div",{staticClass:"d-flex flex-grow-1 flex-row justify-center align-center"},[t("SignupForm")],1)])],1)},Qn=[],Xn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex flex-column",staticStyle:{flex:"1"},attrs:{id:"signup-form"}},[t("form",{on:{submit:function(t){return t.preventDefault(),e.signupSubmit()}}},[t(o.Z,[t(me.Z,{attrs:{align:"center",justify:"center"}},[t(he.Z,{attrs:{cols:"2"}},[t("label",{staticClass:"primary--text",attrs:{for:"ID"}},[e._v("아이디")])]),t(he.Z,{attrs:{cols:"4"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.id,expression:"credentials.id"}],attrs:{id:"ID",type:"text",required:"",maxlength:"12",minlength:"4"},domProps:{value:e.credentials.id},on:{blur:function(t){return e.idCheck(e.credentials)},input:function(t){t.target.composing||e.$set(e.credentials,"id",t.target.value)}}})]),t(he.Z,{attrs:{cols:"5"}},[e.idValidate?e.idValidate&&!e.idFlag?t("span",{staticClass:"check error--text"},[e._v("사용 불가능한 아이디 입니다.")]):e.idValidate&&e.idFlag?t("span",{staticClass:"check secondary--text"},[e._v("사용 가능 아이디 입니다.")]):e._e():t("span",{staticClass:"check secondary--text"},[e._v("4~12자의 영문 대소문자와 숫자로만 입력해주세요")])])],1),t(me.Z,{attrs:{align:"center",justify:"center"}},[t(he.Z,{attrs:{cols:"2"}},[t("label",{staticClass:"primary--text",attrs:{for:"PW"}},[e._v("PW")])]),t(he.Z,{attrs:{cols:"4"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.password,expression:"credentials.password"}],attrs:{id:"PW",type:"password",required:"",minlength:"8",maxlength:"16"},domProps:{value:e.credentials.password},on:{input:function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value)}}})]),t(he.Z,{attrs:{cols:"5"}},[e.PWValidFlag?e._e():t("span",{staticClass:"check secondary--text"},[e._v("8~16자의 영문 대소문자와 숫자로만 입력")])])],1),t(me.Z,{attrs:{align:"center",justify:"center"}},[t(he.Z,{attrs:{cols:"2"}},[t("label",{staticClass:"primary--text",attrs:{for:"checkPW"}},[e._v("PW 확인")])]),t(he.Z,{attrs:{cols:"4"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.password2,expression:"credentials.password2"}],attrs:{id:"checkPW",type:"password",required:"",rules:e.passwordRule},domProps:{value:e.credentials.password2},on:{blur:e.passwordCheckValid,input:function(t){t.target.composing||e.$set(e.credentials,"password2",t.target.value)}}})]),t(he.Z,{attrs:{cols:"5"}},[e.passwordCheckFlag?e._e():t("span",{staticClass:"check error--text"},[e._v("비밀번호를 확인해 주세요")]),e.passwordCheckFlag?t("span",{staticClass:"check secondary--text"},[e._v("비밀번호가 확인되었습니다.")]):e._e()])],1),t(me.Z,{attrs:{align:"center",justify:"center"}},[t(he.Z,{attrs:{cols:"2"}},[t("label",{staticClass:"primary--text",attrs:{for:"nickname"}},[e._v("닉네임")])]),t(he.Z,{attrs:{cols:"4"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.nick,expression:"credentials.nick"}],attrs:{id:"nickname",type:"text",required:"",maxlength:"6"},domProps:{value:e.credentials.nick},on:{blur:function(t){return e.nicknameCheck(e.credentials)},input:function(t){t.target.composing||e.$set(e.credentials,"nick",t.target.value)}}})]),t(he.Z,{attrs:{cols:"5"}},[e.nickValidate?e.nickValidate&&!e.nicknameFlag?t("span",{staticClass:"check error--text"},[e._v("사용 불가능한 닉네임 입니다.")]):e.nickValidate&&e.nicknameFlag?t("span",{staticClass:"check secondary--text"},[e._v("사용 가능한 닉네임 입니다.")]):e._e():t("span",{staticClass:"check secondary--text"},[e._v("6자의 영문 한글 입력")])])],1)],1),t("div",{staticClass:"d-flex justify-center align-center"},[t(h.Z,{staticClass:"submit black--text",attrs:{color:"primary",elevation:"0",type:"submit"}},[e._v("가입")])],1)],1),t("div",{staticClass:"d-flex justify-center align-center"},[t("router-link",{attrs:{to:"/login"}},[t(h.Z,{staticClass:"submit black--text",attrs:{color:"primary",elevation:"0",type:"submit"}},[e._v("로그인 화면으로 돌아가기")])],1)],1)])},Jn=[],zn={name:"SignupForm",components:{},data(){return{credentials:{id:"",nick:"",password:"",password2:""},passwordCheckFlag:!1,pwShow:!1,idCheckFlag:!1,nicknameCheckFlag:!1,PWValidFlag:!1}},computed:{...(0,f.Se)(["authError","passwordFlag","idFlag","nicknameFlag"]),idValidate(){return/^[A-Za-z0-9]+$/.test(this.credentials.id)},nickValidate(){return/^[A-Za-z0-9가-힣]+$/.test(this.credentials.id)}},methods:{...(0,f.nv)(["passwordCheck","signup","nicknameCheck","idCheck"]),passwordCheckValid(){this.credentials.password===this.credentials.password2?this.passwordCheckFlag=!0:this.passwordCheckFlag=!1},PWValidate(){/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,16}$/.test(this.credentials.password)?this.PWValidFlag=!0:this.PWValidFlag=!1},signupSubmit(){!0===this.passwordCheckFlag&&!0===this.idFlag&&!0===this.nicknameFlag?this.passwordCheck(this.credentials):alert("회원가입 실패")}}},Yn=zn,qn=(0,v.Z)(Yn,Xn,Jn,!1,null,"489b3547",null),Kn=qn.exports,$n={name:"SignupPage",components:{SignupForm:Kn,ContentBox:re},data(){return{email:"",nickname:"",password:"",checkPassword:""}},methods:{}},er=$n,tr=(0,v.Z)(er,Vn,Qn,!1,null,"59803807",null),sr=tr.exports,ir=function(){var e=this,t=e._self._c;return t("div",{staticClass:"rank"},[t("div",{staticClass:"d-flex flex-column justify-center align-center",staticStyle:{flex:"1 1 100%"}},[t("div",{staticClass:"rank-logo d-flex align-self-center"},[e._v("Ranking")]),t("ContentBox",{attrs:{height:70,width:70}},[t("div",{staticClass:"d-flex flex-column align-center",staticStyle:{height:"100%",width:"100%"}},[t("RankList")],1)])],1)])},ar=[],or=function(){var e=this,t=e._self._c;return t(o.Z,{staticClass:"d-flex flex-column justify-center",staticStyle:{flex:"1 1 100%",height:"100%"}},[t(me.Z,{staticClass:"rank-content d-flex align-self-center",staticStyle:{width:"90%"},attrs:{justify:"center",align:"center"}},[t(he.Z,{attrs:{cols:"4"}}),t(he.Z,{attrs:{cols:"4"}},[t("div",{staticClass:"primary--text rank-label"},[e._v("닉네임")])]),t(he.Z,{attrs:{cols:"2"}},[t("div",{staticClass:"primary--text rank-label"},[e._v("점수")])]),t(he.Z,{attrs:{cols:"2"}},[t("div",{staticClass:"primary--text rank-label"},[e._v("순위")])])],1),t("div",{staticClass:"rank-list-box d-flex flex-column",staticStyle:{flex:"0 0 90%",width:"100%",height:"90%"}},e._l(e.rankingList,(function(e){return t("div",{key:e.userNo,attrs:{ranker:e}},[t("div",{staticClass:"d-flex justify-center align-center"},[t("RankItem",{attrs:{rankerNick:e.userNick,rankerRanking:e.rank,rankerTotalScore:e.score}})],1)])})),0)],1)},nr=[],rr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"rank-item d-flex flex-row justify-center align-center deepblue"},[t(me.Z,{attrs:{justify:"center",align:"center"}},[t(he.Z,{attrs:{cols:"4"}},[t(c.Z,{staticClass:"ml-5",attrs:{color:"white",size:"50"}})],1),t(he.Z,{attrs:{cols:"4"}},[t("div",{staticClass:"white--text ranker-info"},[e._v(e._s(e.rankerNick))])]),t(he.Z,{attrs:{cols:"2"}},[t("div",{staticClass:"white--text ranker-info"},[e._v(e._s(e.rankerTotalScore))])]),t(he.Z,{attrs:{cols:"2"}},[t("div",{staticClass:"mr-5 white--text ranker-info"},[e._v(e._s(e.rankerRanking))])])],1)],1)},lr=[],cr={name:"RankItem",components:{},props:["rankerNick","rankerTotalScore","rankerRanking"],data(){return{}},computed:{...(0,f.Se)(["rankingList"])}},hr=cr,mr=(0,v.Z)(hr,rr,lr,!1,null,null,null),dr=mr.exports,gr={name:"RankList",components:{RankItem:dr},methods:{...(0,f.nv)(["fetchRankingList"])},computed:{...(0,f.Se)(["isLoggedIn","rankingList"])},created(){this.fetchRankingList()}},ur=gr,pr=(0,v.Z)(ur,or,nr,!1,null,null,null),fr=pr.exports,yr={name:"RankView",components:{RankList:fr,ContentBox:re}},Sr=yr,vr=(0,v.Z)(Sr,ir,ar,!1,null,null,null),xr=vr.exports;i.ZP.use(k.Z);const br=[{path:"/",name:"home",component:$,meta:{unauthorized:!0}},{path:"/login",name:"login",component:Ne,meta:{unauthorized:!0}},{path:"/room",name:"gameroom",component:$a},{path:"/waiting",component:Zt,children:[{path:"",name:"waiting",component:Xo},{path:":roomId",name:"RoomUserList",component:un}]},{path:"/mypage",name:"mypage",component:jn},{path:"/signup",name:"signup",component:sr,meta:{unauthorized:!0}},{path:"/rank",name:"rank",component:xr},{path:"/runningroom",name:"runningroom",component:Co}],wr=new k.Z({mode:"history",base:"/",routes:br});wr.beforeEach(((e,t,s)=>{X.commit("SET_AUTH_ERROR",null);const{isLoggedIn:i}=X.getters,a=["home","login","signup"],o=!a.includes(e.name);!o||i&&void 0!==localStorage.getItem("accessToken")?s():s({name:"login"}),!o&&i&&s({name:"waiting"})}));var Ar=wr,_r=s(1705);i.ZP.use(_r.Z);var Cr=new _r.Z({theme:{themes:{light:{primary:"#FFB82F",secondary:"#92B6D8",accent:"#8c9eff",error:"#b71c1c",brown:"#4A3E33",deepblue:"#28363F",blue:"#92B6D8"}},opthions:{customProperties:!0}}}),kr=s(2954);i.ZP.config.productionTip=!1,new i.ZP({router:Ar,store:X,vuetify:Cr,veeValidate:kr.ZP,render:e=>e(C)}).$mount("#app")},3176:function(e,t,s){var i={"./bear.png":7222,"./chick.png":8377,"./gummybear.png":1808,"./pudding.png":2127,"./slime.png":9921,"./stone.png":1127,"./sushi.png":7107,"./test.png":9371,"./whale.png":4685};function a(e){var t=o(e);return s(t)}function o(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=o,e.exports=a,a.id=3176},2681:function(e,t,s){"use strict";e.exports=s.p+"img/plex.6c31ac15.png"},8090:function(e,t,s){"use strict";e.exports=s.p+"img/plex_nav.bf73f64b.png"},7222:function(e,t,s){"use strict";e.exports=s.p+"img/bear.d90ed421.png"},8377:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGmSURBVHhe7di/TetQHAXg8EagomKAtwE1S9AywZuFCWhZgpoNGICKihWAF93CiWLHVq59/Of7pMi3sOT4Hv2ObrIDAAAAAKZxVa5z8l2uNc3xPff+lCshAgiby2ierJ3Pt8eyGu7m7rmsOsXf3wSECSBs6hGsXjVDdVRTpI5MQJgAwqYYu3jttDmqIxW0RQIIm7SCxqidr5fXsurn+uG+rA6l6sgEhAkgbPEVVIsK2igBhAngtP+1ee5ThQDCBBC22lNQ29/Obd+hef/7v9uyOvT36aOs9qrsnQkIE0CYCira7u+ggtZAAGGrraChOipo1D0yAWECCJt1BTVrYejp5ZJn/ZpiX/ZMQJgAwhZzCupTR02X3N+h+n6ZgDABhC2mgpr61MsYlXVUU1X2zgSECSBskRXU1Of0MrSCelJBayCAsMVXUC1jnHD6MAFhAggTQJgAwgQQtphT0NAfSkOf5RS0UQIIm3UFXVgLg56rgjZKAGGTVlBTWy1UrIKzFdRxslJBWyGAsMlGrThZR0fG+E6p555lAsIEAAAAAAAAAAAAa7Pb/QCZz3teN79uGwAAAABJRU5ErkJggg=="},1808:function(e,t,s){"use strict";e.exports=s.p+"img/gummybear.fc3be45b.png"},2127:function(e,t,s){"use strict";e.exports=s.p+"img/pudding.7b30b0e8.png"},9921:function(e,t,s){"use strict";e.exports=s.p+"img/slime.8ac948ad.png"},1127:function(e,t,s){"use strict";e.exports=s.p+"img/stone.f54f40fc.png"},7107:function(e,t,s){"use strict";e.exports=s.p+"img/sushi.1b198901.png"},9371:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGmSURBVHhe7di/TetQHAXg8EagomKAtwE1S9AywZuFCWhZgpoNGICKihWAF93CiWLHVq59/Of7pMi3sOT4Hv2ObrIDAAAAAKZxVa5z8l2uNc3xPff+lCshAgiby2ierJ3Pt8eyGu7m7rmsOsXf3wSECSBs6hGsXjVDdVRTpI5MQJgAwqYYu3jttDmqIxW0RQIIm7SCxqidr5fXsurn+uG+rA6l6sgEhAkgbPEVVIsK2igBhAngtP+1ee5ThQDCBBC22lNQ29/Obd+hef/7v9uyOvT36aOs9qrsnQkIE0CYCira7u+ggtZAAGGrraChOipo1D0yAWECCJt1BTVrYejp5ZJn/ZpiX/ZMQJgAwhZzCupTR02X3N+h+n6ZgDABhC2mgpr61MsYlXVUU1X2zgSECSBskRXU1Of0MrSCelJBayCAsMVXUC1jnHD6MAFhAggTQJgAwgQQtphT0NAfSkOf5RS0UQIIm3UFXVgLg56rgjZKAGGTVlBTWy1UrIKzFdRxslJBWyGAsMlGrThZR0fG+E6p555lAsIEAAAAAAAAAAAAa7Pb/QCZz3teN79uGwAAAABJRU5ErkJggg=="},4685:function(e,t,s){"use strict";e.exports=s.p+"img/whale.e3280739.png"}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}s.m=e,function(){var e=[];s.O=function(t,i,a,o){if(!i){var n=1/0;for(h=0;h<e.length;h++){i=e[h][0],a=e[h][1],o=e[h][2];for(var r=!0,l=0;l<i.length;l++)(!1&o||n>=o)&&Object.keys(s.O).every((function(e){return s.O[e](i[l])}))?i.splice(l--,1):(r=!1,o<n&&(n=o));if(r){e.splice(h--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var h=e.length;h>0&&e[h-1][2]>o;h--)e[h]=e[h-1];e[h]=[i,a,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,o,n=i[0],r=i[1],l=i[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(l)var h=l(s)}for(t&&t(i);c<n.length;c++)o=n[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(h)},i=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(7030)}));i=s.O(i)})();
//# sourceMappingURL=app.8dda978a.js.map